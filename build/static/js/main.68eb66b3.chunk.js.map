{"version":3,"sources":["components/Home.jsx","components/NotFound.jsx","components/Setting.jsx","components/NavbarLinks.js","components/Header.jsx","components/sidebarlinks.js","components/Sidebar.jsx","components/Products.jsx","components/Categories.jsx","components/CategoryForm.jsx","components/config/axiosConfig.js","components/ReceiptModal.jsx","components/Transactions.jsx","components/DashboardPanel.jsx","components/Users.jsx","components/UserForm.jsx","components/ProductForm.jsx","components/Account.jsx","components/Report.jsx","components/Logout.jsx","screens/Dashboard.jsx","components/Login.jsx","App.js","reportWebVitals.js","index.js"],"names":["Home","NotFound","useStyles","makeStyles","theme","form","width","marginTop","spacing","padding","submit","margin","Setting","props","useState","formData","setFormData","errors","setErrors","method","setMethod","classes","useEffect","match","params","id","axios","get","process","_id","then","result","data","status","formSchema","storename","Joi","string","required","discount","number","tax","console","log","Container","Paper","className","paper","onSubmit","e","preventDefault","validation","validate","abortEarly","error","details","url","Swal","fire","history","goBack","catch","err","onChange","target","name","value","Grid","container","item","xs","align","TextField","autoComplete","variant","fullWidth","autoFocus","filter","context","key","map","message","sm","placeholder","Button","type","size","color","NavbarLinks","label","path","Header","urlTokens","useLocation","pathname","split","cartItems","useContext","CartContext","React","anchorEl","setAnchorEl","open","Boolean","undefined","StyledBadge","withStyles","badge","right","top","border","palette","background","Badge","IconButton","badgeContent","length","Avatar","onClick","event","currentTarget","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","List","link","to","includes","icon","sidebarLinks","Sidebar","table","minWidth","Products","setUsers","products","setProducts","refresh","setRefresh","limit","query","setQuery","REACT_APP_BACKEND_API","queryString","stringify","headers","authorization","localStorage","getItem","justifyContent","FormControl","OutlinedInput","endAdornment","InputAdornment","position","labelWidth","formControl","InputLabel","htmlFor","Select","native","inputProps","Table","TableHead","TableRow","TableCell","TableBody","product","component","scope","style","src","image","alt","price","Chip","category","title","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","delete","response","LinearProgress","height","firstRow","Categories","categories","setCategories","URL","InputProps","startAdornment","shrink","Box","CategoryForm","min","max","i","FormData","x","append","http","create","baseURL","ReceiptModal","isOpen","onOpen","transactionData","Dialog","DialogTitle","Typography","gutterBottom","display","moment","createdAt","format","DialogContent","DialogContentText","qty","toFixed","subtotal","grandtotal","DialogActions","a11yProps","index","TabPanel","children","other","role","hidden","p","root","flexGrow","backgroundColor","cardWrapper","flexWrap","productCard","productsWrapper","overflowY","tableOne","recieptModal","heigh","Transactions","cartDetails","settings","SettingContext","setValue","allProducts","setAllProducts","productCategories","setProductCategories","setRecieptModal","setTransactionData","subTotal","reduce","sum","grandTotal","a","all","handleSubmit","post","items","deleteAllCartItems","getAllProducts","AppBar","Tabs","newValue","indicatorColor","textColor","scrollButtons","Tab","Card","updateCartItems","find","CardActionArea","CardMedia","description","CardContent","CardActions","deleteCartItem","updateQuantity","disabled","chart","mCard","borderRadius","cardRed","options","scales","yAxes","ticks","beginAtZero","DashboardPanel","start","startOf","end","endOf","queryData","dashboardData","setDashboardData","weeklyTransactions","setWeeklyTransactions","weeklyIncome","findIndex","push","labels","datasets","fill","borderColor","fetch","json","getDashboardData","transactions","getWeeklyTransaction","lg","count","Math","round","total","row","_createdAt","Users","users","user","fullname","username","lastActive","UserForm","email","password","selected","ProductForm","productImage","setProductImage","location","multiline","rows","fileReader","FileReader","readAsDataURL","files","onload","fileEvent","accept","marginLeft","Report","setReportData","setTransactions","Date","getReportData","getTransaction","noValidate","defaultValue","textField","InputLabelProps","Logout","clear","window","href","Dashboard","Fragment","exact","Settings","Account","backgroundImage","backgroundRepeat","grey","backgroundSize","backgroundPosition","flexDirection","alignItems","avatar","secondary","main","Login","setError","info","setInfo","loginSchema","CssBaseline","md","elevation","square","er","Alert","severity","body","JSON","setItem","token","attemptLogin","createContext","App","setCartItems","setSettings","Provider","newCartItems","splice","updatedCart","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.68eb66b3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function Home() {\r\n    return (\r\n        <div>\r\n            <h1> Home Page</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\nfunction NotFound() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Page not found</h1>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotFound;","import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { FormControl, Select, InputLabel, Paper } from \"@material-ui/core\";\r\nimport Joi from \"joi-browser\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tform: {\r\n\t\twidth: \"100%\", // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tpadding: \"20px\",\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\nexport default function Setting(props) {\r\n\tconst [formData, setFormData] = useState({});\r\n\tconst [errors, setErrors] = useState(null);\r\n\tconst [method, setMethod] = useState(\"POST\");\r\n\tconst classes = useStyles();\r\n\tconst handleFormChange = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tprops.match.params.id &&\r\n\t\t\taxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}setting/${props.match.params._id}`,\r\n\t\t\t\t)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tif (result.data.status === \"success\") {\r\n\t\t\t\t\t\tsetFormData(result.data.data);\r\n\t\t\t\t\t\tsetMethod(\"PUT\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t}, []);\r\n\r\n\tconst formSchema = {\r\n\t\tstorename: Joi.string().required(),\r\n\t\tdiscount: Joi.number().required(),\r\n\t\ttax: Joi.number().required(),\r\n\t};\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t//validate the request\r\n\t\tlet validation = Joi.validate(formData, formSchema, { abortEarly: false });\r\n\t\tif (validation.error) {\r\n\t\t\tsetErrors(validation.error.details);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//make post request to server\r\n\t\taxios({\r\n\t\t\tmethod,\r\n\t\t\turl: `${process.env.REACT_APP_BACKEND_API_URL}${\r\n\t\t\t\tmethod === \"PUT\" ? \"setting/\" + props.match.params.id : \"setting\"\r\n\t\t\t}`,\r\n\t\t\tdata: formData,\r\n\t\t})\r\n\t\t\t.then((result) => {\r\n\t\t\t\tif (result.status === 200) {\r\n\t\t\t\t\tsetErrors(null);\r\n\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t`Setting ${method === \"PUT\" ? \"updated\" : \"created\"} successfully...`,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tprops.history.goBack();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t});\r\n\t};\r\n\tconsole.log(errors);\r\n\tconsole.log(formData);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<h4>Update Store Settings</h4>\r\n\t\t\t<Paper>\r\n\t\t\t\r\n\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\tclassName={classes.form}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} >\r\n\t\t\t\t\t\t\t\t<h6 align=\"left\">Store Name</h6>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\r\n\t\t\t\t\t\t\t\t\tname=\"Storename\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.name}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"name\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t<h6 align=\"left\">Discount</h6>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"                                                                                                                %\"\r\n\t\t\t\t\t\t\t\t\tid=\"discount\"\r\n\t\t\t\t\t\t\t\t\tname=\"discount\"\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"discount\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.discount}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"discount\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t<h6 align=\"left\">Tax </h6>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"                                                                                                                   %\"\r\n\t\t\t\t\t\t\t\t\tid=\"lastName\"\r\n\t\t\t\t\t\t\t\t\tname=\"tax\"\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"tax\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.tax}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"tax\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName=\"c-btn mt-5\">\r\n\t\t\t\t\t\t\t{method === \"POST\" ? \"Submit\" : \"\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t);\r\n}","const NavbarLinks = [\r\n    {id: 1, label: \"Setting\", classes:[], path:\"/setting\"},\r\n    {id: 2, label: \"Account\", classes:[], path:\"/account\"},\r\n    {id: 3, label: \"Logout\", classes:[], path:\"/logout\"},\r\n    \r\n]\r\n\r\nexport default NavbarLinks;","import React, { useContext } from \"react\";\r\nimport { CartContext } from \"../App\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport { Avatar, List, ListItem } from \"@material-ui/core\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Setting from \"./Setting\";\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport NavbarLinks from './NavbarLinks';\r\n\r\n\r\nexport default function Header(props) {\r\n\tconst urlTokens = useLocation().pathname.split(\"/\");\r\n\tlet { cartItems } = useContext(CartContext);\r\n\r\n\tconst [anchorEl, setAnchorEl] = React.useState(null);\r\n\tconst open = Boolean(anchorEl);\r\n\tconst id = open ? \"simple-popover\" : undefined;\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tsetAnchorEl(event.currentTarget);\r\n\t};\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null);\r\n\t};\r\n\t\r\n\r\n\tconst StyledBadge = withStyles((theme) => ({\r\n\t\tbadge: {\r\n\t\t\tright: -3,\r\n\t\t\ttop: 13,\r\n\t\t\tborder: `2px solid ${theme.palette.background.paper}`,\r\n\t\t\tpadding: \"0 4px\",\r\n\t\t},\r\n\t}))(Badge);\r\n\r\n\treturn (\r\n\t\t<header className=\"m-navbar py-2 px-3\">\r\n\t\t\t<ul className=\"left-nav\"></ul>\r\n\t\t\t<ul className=\"right-nav\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<IconButton aria-label=\"cart\">\r\n\t\t\t\t\t\t<StyledBadge badgeContent={cartItems.length} color=\"secondary\">\r\n\t\t\t\t\t\t\t<ShoppingCartIcon />\r\n\t\t\t\t\t\t</StyledBadge>\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<Avatar onClick={handleClick}>User</Avatar>\r\n\t\t\t\t\t<Popover\r\n\t\t\t\t\t\tid={id}\r\n\t\t\t\t\t\topen={open}\r\n\t\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t\tonClose={handleClose}\r\n\t\t\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\t\t\thorizontal: \"center\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\t\t\thorizontal: \"center\",\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tNavbarLinks.map(link =>( \r\n\t\t\t\t\t\t\t\t<Link to={`/dashboard${link.path}`} key={link.id} className=\"linkse\">\r\n\t\t\t\t\t\t\t\t\t<div className={`navbar-links ${\r\n\t\t\t\t\t\t\t\t\t\turlTokens.includes(link.path) ? \"active\" : \"\"\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}`}>   \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className={`navbar-links`}>\r\n\t\t\t\t\t\t\t\t\t\t<h4>{link.icon}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h5>{link.label}</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t))\r\n            \t\t\t}\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t</Popover>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</header>\r\n\t);\r\n}","import DashboardIcon from \"@material-ui/icons/Dashboard\";\r\nimport CategoryIcon from \"@material-ui/icons/Category\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport ListIcon from \"@material-ui/icons/List\";\r\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\r\nimport AssessmentIcon from '@material-ui/icons/Assessment';\r\nconst sidebarLinks = [\r\n\t{\r\n\t\tid: 1,\r\n\t\tlabel: \"Dashboard\",\r\n\t\tclasses: [],\r\n\t\ticon: <DashboardIcon />,\r\n\t\tpath: \"main\",\r\n\t},\r\n\t{\r\n\t\tid: 2,\r\n\t\tlabel: \"Category\",\r\n\t\tclasses: [],\r\n\t\ticon: <CategoryIcon />,\r\n\t\tpath: \"categories\",\r\n\t},\r\n\t{\r\n\t\tid: 3,\r\n\t\tlabel: \"Users\",\r\n\t\tclasses: [],\r\n\t\ticon: <PeopleIcon />,\r\n\t\tpath: \"users\",\r\n\t},\r\n\t{\r\n\t\tid: 4,\r\n\t\tlabel: \"Products\",\r\n\t\tclasses: [],\r\n\t\ticon: <ListIcon />,\r\n\t\tpath: \"products\",\r\n\t},\r\n\t{\r\n\t\tid: 5,\r\n\t\tlabel: \"Transaction\",\r\n\t\tclasses: [],\r\n\t\ticon: <ReceiptIcon />,\r\n\t\tpath: \"transactions\",\r\n\t},\r\n\r\n\t{\r\n\t\tid: 6,\r\n\t\tlabel: \"Report\",\r\n\t\tclasses: [],\r\n\t\ticon: <AssessmentIcon />,\r\n\t\tpath: \"report\",\r\n\t},\r\n];\r\n\r\nexport default sidebarLinks;","import React from \"react\";\r\nimport sidebarLinks from \"./sidebarlinks\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nfunction Sidebar() {\r\n\tconst urlTokens = useLocation().pathname.split(\"/\");\r\n\r\n\treturn (\r\n\t\t<div className=\"m-sidebar\">\r\n\t\t\t\r\n\t\t\t{sidebarLinks.map((link) => (\r\n\t\t\t\t<Link to={`/dashboard/${link.path}`} key={link.id} className=\"links\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={`sidebar-links ${\r\n\t\t\t\t\t\t\turlTokens.includes(link.path) ? \"active\" : \"\"\r\n\t\t\t\t\t\t}`}>\r\n\t\t\t\t\t\t<h4>{link.icon}</h4>\r\n\t\t\t\t\t\t<h5>{link.label}</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Sidebar;\r\n","// 27 july ki h pheli classs\r\n// isme hmne \r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport {\r\n\tButton,\r\n\tChip,\r\n\tContainer,\r\n\tFormControl,\r\n\tGrid,\r\n\tPaper,\r\n\tInputLabel,\r\n\tSelect,\r\n\tInputAdornment,\r\n\tOutlinedInput,\r\n\tLinearProgress,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport moment from \"moment\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nconst useStyles = makeStyles({\r\n\ttable: {\r\n\t\tminWidth: 650,\r\n\t},\r\n});\r\n\r\nfunction Products(props) {\r\n\tconst classes = useStyles();\r\n\tconst [users, setUsers] = useState(null);\r\n\tconst [products, setProducts] = useState(null);\r\n\tconst [refresh, setRefresh] = useState(false);\r\n\tconst [query, setQuery] = useState({\r\n\t\tlimit: 100,\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\taxios({\r\n\t\t\turl: `${process.env.REACT_APP_BACKEND_API}product?${queryString.stringify(\r\n\t\t\t\tquery,\r\n\t\t\t)}`,\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n\t\t\t},\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.data.status === \"success\")\r\n\t\t\t\tsetProducts(result.data.data.products);\r\n\t\t});\r\n\t}, [refresh, query]);\r\n\tconst handleDelete = (id) => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: \"Are you sure?\",\r\n\t\t\ttext: \"You won't be able to revert this!\",\r\n\t\t\ticon: \"warning\",\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: \"#3085d6\",\r\n\t\t\tcancelButtonColor: \"#d33\",\r\n\t\t\tconfirmButtonText: \"Delete\",\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\taxios\r\n\t\t\t\t\t.delete(`${process.env.REACT_APP_BACKEND_API}product/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tauthorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tif (response.data.status === \"success\") {\r\n\t\t\t\t\t\t\tSwal.fire(\"Deleted!\", \"User has been deleted..\", \"success\");\r\n\t\t\t\t\t\t\tsetRefresh(!refresh);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tSwal.fire(\"Opps!\", \"Somthing went wrong..\", \"error\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tSwal.fire(\"Opps!\", \"Somthing went wrong..\", \"error\");\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst handleQueryChange = (e) => {\r\n\t\tsetUsers(null);\r\n\t\tsetQuery({ ...query, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconsole.log(products);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Link to={`${props.match.path}/new`}>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\">\r\n\t\t\t\t\t\t\t+ New Product\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container justifyContent=\"flex-end\">\r\n\t\t\t\t\t<form onChange={handleQueryChange}>\r\n\t\t\t\t\t\t<FormControl variant=\"outlined\">\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"outlined-adornment-password\"\r\n\t\t\t\t\t\t\t\tname=\"keyword\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Search products...\"\r\n\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabelWidth={70}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.formControl}>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"outlined-age-native-simple\">\r\n\t\t\t\t\t\t\t\tSort By\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tnative\r\n\t\t\t\t\t\t\t\tvalue=\"\"\r\n\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\tname: \"sort\",\r\n\t\t\t\t\t\t\t\t\tid: \"outlined-age-native-simple\",\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<option aria-label=\"None\" value=\"\" />\r\n\t\t\t\t\t\t\t\t<option value=\"Newest\">Newest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Oldest\">Oldest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Highest to Lowest\">Highest to Lowest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Lowest to Highest\">Lowest to Highest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Name\">Name</option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Image</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Name</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Price</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Category</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Actions</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{products ? (\r\n\t\t\t\t\t\t\t\t\t\tproducts.map((product) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={product._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"75px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={product.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{product.name}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{product.price}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={product.category[0].name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`${props.match.path}/update/${product._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(product._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<LinearProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: \"20px\", width: \"100%\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Products;","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport {\r\n\tChip,\r\n\tContainer,\r\n\tGrid,\r\n\tPaper,\r\n\tButton,\r\n\tInputAdornment,\r\n\tTextField,\r\n\tFormControl,\r\n\tSelect,\r\n\tBox,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport moment from \"moment\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\n\r\nconst useStyles = makeStyles({\r\n\ttable: {},\r\n\tfirstRow: {\r\n\t\tmargin: \"20px 0px\",\r\n\t},\r\n});\r\n\r\nfunction Categories(props) {\r\n\tconst classes = useStyles();\r\n\tconst [query, setQuery] = useState({\r\n\t\tlimit: 100,\r\n\t});\r\n\tconst [categories, setCategories] = useState(null);\r\n\tconst [refresh, setRefresh] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet URL = `${\r\n\t\t\tprocess.env.REACT_APP_BACKEND_API_URL\r\n\t\t}category?${queryString.stringify(query)}`;\r\n\t\taxios({\r\n\t\t\turl: URL,\r\n\t\t\theaders: {\r\n\t\t\t\tauthorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n\t\t\t},\r\n\t\t}).then((result) => setCategories(result.data.data.categories));\r\n\t}, [refresh, query]);\r\n\r\n\tconst handleDelete = (id) => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: \"Are you sure?\",\r\n\t\t\ttext: \"This category will be deleted!\",\r\n\t\t\ticon: \"warning\",\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: \"#3085d6\",\r\n\t\t\tcancelButtonColor: \"#d33\",\r\n\t\t\tconfirmButtonText: \"Delete\",\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\taxios\r\n\t\t\t\t\t.delete(`${process.env.REACT_APP_BACKEND_API_URL}category/${id}`)\r\n\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\tif (result.data.status === \"success\") {\r\n\t\t\t\t\t\t\tSwal.fire(\"Deleted!\", \"User deleted successfully...\", \"success\");\r\n\t\t\t\t\t\t\tsetRefresh(!refresh);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tSwal.fire(\"Deleted!\", \"Something went wrong...\", \"error\");\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleQueryChange = (e) => {\r\n\t\tsetCategories(null);\r\n\t\tsetQuery({ ...query, [e.target.name]: e.target.value });\r\n\t};\r\n\tconsole.log(query);\r\n\tconsole.log(categories);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Container>\r\n\t\t\t\t<h2>Category</h2>\r\n\t\t\t\t<Grid container justifyContent=\"flex-end\" className={classes.firstRow}>\r\n\t\t\t\t\t<Link to={`${props.match.path}/new`} className=\"li\">\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\" >\r\n\t\t\t\t\t\t\tNew Data\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container justifyContent=\"flex-end\" className=\"my-3\">\r\n\t\t\t\t\t<form onChange={handleQueryChange}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tplaceholder=\"Search...\"\r\n\t\t\t\t\t\t\tid=\"outlined-start-adornment\"\r\n\t\t\t\t\t\t\tclassName=\"\"\r\n\t\t\t\t\t\t\tname=\"keyword\"\r\n\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\tstartAdornment: (\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\r\n\t\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControl variant=\"outlined\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tnative\r\n\t\t\t\t\t\t\t\tplaceholder=\"Role\"\r\n\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\tname: \"sort\",\r\n\r\n\t\t\t\t\t\t\t\t\tid: \"outlined-age-native-simple\",\r\n\t\t\t\t\t\t\t\t\tshrink: false,\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<option aria-label=\"None\" value=\"\" />\r\n\t\t\t\t\t\t\t\t<option value=\"Newest\">Newest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Oldest\">Oldest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Name\">Name</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Last Active\">Last Active</option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Category Name</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Actions</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{categories ? (\r\n\t\t\t\t\t\t\t\t\t\tcategories.map((category) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={category._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"user\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{category.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`${props.match.path}/update/${category._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon onClick={() => handleDelete(category._id)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Box item sm={6} style={{ width: \"100%\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<LinearProgress />\r\n\t\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Categories;","import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { FormControl, Select, InputLabel, Paper } from \"@material-ui/core\";\r\nimport Joi from \"joi-browser\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport PhotoIcon from \"@material-ui/icons/Photo\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tform: {\r\n\t\twidth: \"100%\", // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tpadding: \"20px\",\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\nexport default function CategoryForm(props) {\r\n\tconst [formData, setFormData] = useState({});\r\n\tconst [errors, setErrors] = useState(null);\r\n\tconst [method, setMethod] = useState(\"POST\");\r\n\tconst [categories, setCategories] = useState(null);\r\n\tconst classes = useStyles();\r\n\tconst handleFormChange = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tprops.match.params.id &&\r\n\t\t\taxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}category/${props.match.params.id}`,\r\n\t\t\t\t)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tif (result.data.status === \"success\") {\r\n\t\t\t\t\t\tlet { category } = result.data.data;\r\n\t\t\t\t\t\tsetFormData({ ...formData, category});\r\n\r\n\t\t\t\t\t\t// setFormData(result.data.data);\r\n\t\t\t\t\t\tsetMethod(\"PUT\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\taxios(`${process.env.REACT_APP_BACKEND_API_URL}category`).then((result) =>\r\n\t\t\tsetCategories(result.data.data.categories),\r\n\t\t);\r\n\t}, []);\r\n\r\n\tconst formSchema = {\r\n\r\n\t\tcategory: Joi.string().required().min(7).max(30),\r\n\t\r\n\t};\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t//validate the request\r\n\t\tlet validation = Joi.validate(formData, formSchema, { abortEarly: false });\r\n\t\tif (validation.error) {\r\n\t\t\tsetErrors(validation.error.details);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//if form data contains files\r\n\t\tlet i = new FormData();\r\n\t\tfor (let x in formData) i.append(x, formData[x]);\r\n\r\n\r\n\t\t//make post request to server\r\n\t\taxios({\r\n\t\t\tmethod,\r\n\t\t\turl: `${process.env.REACT_APP_BACKEND_API_URL}${\r\n\t\t\t\tmethod === \"PUT\" ? \"category/\" + props.match.params.id : \"category\"\r\n\t\t\t}`,\r\n\t\t\tdata: i,\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"multipart/formData\",\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((result) => {\r\n\t\t\t\tif (result.status === 200) {\r\n\t\t\t\t\tsetErrors(null);\r\n\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t`Category ${\r\n\t\t\t\t\t\t\tmethod === \"PUT\" ? \"updated\" : \"created\"\r\n\t\t\t\t\t\t} successfully...`,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tprops.history.goBack();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Grid container className=\"mt-5\">\r\n\t\t\t\t<Button onClick={() => props.history.goBack()} variant=\"default\">\r\n\t\t\t\t\t<ArrowBackIcon /> Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Grid>\r\n\t\t\t<Paper>\r\n\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\tclassName={classes.form}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tname=\"category\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"category\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Category Name\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.category}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"category\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName=\"c-btn mt-5\">\r\n\t\t\t\t\t\t\t{method === \"POST\" ? \"Create Category\" : \"Update Category\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t);\r\n}","import axios from \"axios\";\r\n\r\nconst http = axios.create({\r\n\tbaseURL: `${process.env.REACT_APP_BACKEND_API}`,\r\n\theaders: {\r\n\t\tauthorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n\t},\r\n});\r\n\r\nexport default http;","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport moment from \"moment\";\r\n\r\nexport default function ReceiptModal({\r\n\tisOpen,\r\n\tonOpen,\r\n\tonClose,\r\n\ttransactionData,\r\n}) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Dialog\r\n\t\t\t\tstyle={{ padding: \"20px\" }}\r\n\t\t\t\topen={isOpen}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\taria-labelledby=\"alert-dialog-title\"\r\n\t\t\t\taria-describedby=\"alert-dialog-description\">\r\n\t\t\t\t<DialogTitle id=\"alert-dialog-title\">\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tclassName=\"text-muted\"\r\n\t\t\t\t\t\tvariant=\"h4\"\r\n\t\t\t\t\t\tcomponent=\"h3\"\r\n\t\t\t\t\t\tgutterBottom>\r\n\t\t\t\t\t\tReceipt\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\tdisplay=\"block\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tgutterBottom>\r\n\t\t\t\t\t\t{moment(transactionData && transactionData.createdAt).format(\r\n\t\t\t\t\t\t\t\"llll\",\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tvariant=\"caption\"\r\n\t\t\t\t\t\tdisplay=\"block\"\r\n\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\tgutterBottom>\r\n\t\t\t\t\t\t{transactionData && transactionData._id}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText id=\"alert-dialog-description\">\r\n\t\t\t\t\t\t<Table aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">Product</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Quantity</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Unit Price</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Total</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t{transactionData &&\r\n\t\t\t\t\t\t\t\t\ttransactionData.products.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={item._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">{item.name}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{item.qty}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{item.price}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${(item.qty * item.price).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCell>Sub Total</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t{transactionData && transactionData.subtotal.toFixed(2)}\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCell>Discount</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t{transactionData && transactionData.discount.toFixed(2)}\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\r\n\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t<TableCell>Grand Total</TableCell>\r\n\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t{transactionData && transactionData.grandtotal.toFixed(2)}\r\n\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button variant=\"default\" fullWidth className=\"c-btn\">\r\n\t\t\t\t\t\tPRINT RECEIPT\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n}","import {\r\n\tContainer,\r\n\tPaper,\r\n\tGrid,\r\n\tTabs,\r\n\tTab,\r\n\tTypography,\r\n\tBox,\r\n\tAppBar,\r\n\tModal,\r\n} from \"@material-ui/core\";\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"./config/axiosConfig\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { CartContext, SettingContext } from \"../App\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\";\r\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport ReciptModal from \"./ReceiptModal\";\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `scrollable-auto-tab-${index}`,\r\n\t\t\"aria-controls\": `scrollable-auto-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"tabpanel\"\r\n\t\t\thidden={value !== index}\r\n\t\t\tid={`scrollable-auto-tabpanel-${index}`}\r\n\t\t\taria-labelledby={`scrollable-auto-tab-${index}`}\r\n\t\t\t{...other}>\r\n\t\t\t{value === index && (\r\n\t\t\t\t<Box p={3}>\r\n\t\t\t\t\t<Typography>{children}</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\tpadding: \"10px\",\r\n\t\twidth: \"100%\",\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n\tcardWrapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tproductCard: {\r\n\t\twidth: \"30%\",\r\n\t\tmarginTop: \"15px\",\r\n\t\tposition: \"relative\",\r\n\t},\r\n\tproductsWrapper: {\r\n\t\theight: \"85vh\",\r\n\t\toverflowY: \"auto\",\r\n\t\tpadding: \"10px\",\r\n\t},\r\n\ttableOne: {\r\n\t\theight: \"60vh\",\r\n\t\toverflowY: \"auto\",\r\n\t},\r\n\trecieptModal: {\r\n\t\tposition: \"fixed\",\r\n\t\twidth: \"40%\",\r\n\t\theigh: \"60vh\",\r\n\t\tbackgroundColor: \"white\",\r\n\t},\r\n}));\r\n\r\nfunction Transactions() {\r\n\tconst cartDetails = useContext(CartContext);\r\n\tconst settings = useContext(SettingContext);\r\n\tconst classes = useStyles();\r\n\tconst [value, setValue] = useState(0);\r\n\tconst [allProducts, setAllProducts] = useState(null);\r\n\tconst [productCategories, setProductCategories] = useState(null);\r\n\tconst [recieptModal, setRecieptModal] = useState(false);\r\n\tconst [transactionData, setTransactionData] = useState(null);\r\n\r\n\tconst subTotal =\r\n\t\tcartDetails.cartItems.length &&\r\n\t\tcartDetails.cartItems.reduce((sum, item) => sum + item.price * item.qty, 0);\r\n\tconst discount = settings ? (+settings.discount / 100) * subTotal : 0;\r\n\tconst tax = settings ? (+settings.tax / 100) * subTotal : 0;\r\n\tconst grandTotal = subTotal + tax - discount;\r\n\r\n\tasync function getAllProducts() {\r\n\t\tlet result = await axios(\"product/transaction\");\r\n\t\tsetAllProducts(result.data.data.all);\r\n\t\tsetProductCategories(result.data.data.categories);\r\n\t}\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t};\r\n\tconst handleClose = () => {\r\n\t\tsetRecieptModal(false);\r\n\t};\r\n\tconst handleOpen = () => {\r\n\t\tsetRecieptModal(true);\r\n\t};\r\n\tconst handleSubmit = async () => {\r\n\t\tlet { cartItems } = cartDetails;\r\n\t\tif (cartItems.length !== 0) {\r\n\t\t\tlet response = await axios.post(\"transaction\", {\r\n\t\t\t\titems: cartItems,\r\n\t\t\t\tsubtotal: subTotal,\r\n\t\t\t\tgrandtotal: grandTotal,\r\n\t\t\t\tdiscount,\r\n\t\t\t});\r\n\t\t\tif (response.data.status === \"success\") {\r\n\t\t\t\tcartDetails.deleteAllCartItems();\r\n\t\t\t\tsetRecieptModal(true);\r\n\t\t\t\tsetTransactionData(response.data.data);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tconsole.log(transactionData);\r\n\r\n\tuseEffect(() => {\r\n\t\tgetAllProducts();\r\n\t}, []);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h2>Transactions</h2>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item sm={8} className={classes.productsWrapper}>\r\n\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t<AppBar position=\"static\" color=\"default\">\r\n\t\t\t\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"scrollable\"\r\n\t\t\t\t\t\t\t\t\tscrollButtons=\"auto\"\r\n\t\t\t\t\t\t\t\t\taria-label=\"scrollable auto tabs example\">\r\n\t\t\t\t\t\t\t\t\t<Tab label=\"All\" {...a11yProps(0)} />\r\n\t\t\t\t\t\t\t\t\t{productCategories &&\r\n\t\t\t\t\t\t\t\t\t\tproductCategories.map((category, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Tab label={category.name} {...a11yProps(index + 1)} />\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Tabs>\r\n\t\t\t\t\t\t\t</AppBar>\r\n\t\t\t\t\t\t\t<TabPanel value={value} index={0}>\r\n\t\t\t\t\t\t\t\t<div className={classes.cardWrapper}>\r\n\t\t\t\t\t\t\t\t\t{allProducts &&\r\n\t\t\t\t\t\t\t\t\t\tallProducts.map((product) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => cartDetails.updateCartItems(product._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.productCard}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`m-overlay ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartDetails.cartItems.find(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(i) => i._id === product._id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"active\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircleIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`m-selected ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartDetails.cartItems.find(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(i) => i._id === product._id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"active\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CardActionArea>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"img\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={product.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"140\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\timage={product.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"h2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"p\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</CardActionArea>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography gutterBottom variant=\"h5\" component=\"h5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ &nbsp;{product.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t{productCategories &&\r\n\t\t\t\t\t\t\t\tproductCategories.map((category, index) => (\r\n\t\t\t\t\t\t\t\t\t<TabPanel value={value} index={index}>\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.cardWrapper}>\r\n\t\t\t\t\t\t\t\t\t\t\t{category.items.map((product) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartDetails.updateCartItems(product._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.productCard}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`m-overlay ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartDetails.cartItems.find(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(i) => i._id === product._id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"active\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircleIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`m-selected ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartDetails.cartItems.find(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(i) => i._id === product._id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"active\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CardActionArea>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"img\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={product.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"140\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\timage={product.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"h2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"p\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product.description}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</CardActionArea>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CardActions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgutterBottom\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"h5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"h5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ &nbsp;{product.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</CardActions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={4} xs={12}>\r\n\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tstyle={{ height: \"50vh\", overflowY: \"auto\" }}\r\n\t\t\t\t\t\t\t\tclassName=\"tableOne\">\r\n\t\t\t\t\t\t\t\t<Table aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">Product</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">Quantity</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Total</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t\t{cartDetails.cartItems.length &&\r\n\t\t\t\t\t\t\t\t\t\t\tcartDetails.cartItems.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableRow key={item._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartDetails.deleteCartItem(item._id)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;{item.name} {item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<RemoveCircleOutlineIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartDetails.updateQuantity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem._id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"decrement\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AddCircleOutlineIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcartDetails.updateQuantity(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem._id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"increment\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${(item.qty * item.price).toFixed(2)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Table>\r\n\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t<TableCell>Sub Total</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{subTotal.toFixed(2)}</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t<TableCell>Discount</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{discount.toFixed(2)}</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t<TableCell>Tax</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{tax.toFixed(2)}</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t<TableCell>Grand Total</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{grandTotal.toFixed(2)}</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"left\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={cartDetails.cartItems.length === 0}>\r\n\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={cartDetails.cartItems.length === 0}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"c-btn\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t\t\tPay\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t\t<ReciptModal\r\n\t\t\t\tisOpen={recieptModal}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tonOpen={handleOpen}\r\n\t\t\t\ttransactionData={transactionData}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Transactions;","import React, { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport queryString from \"query-string\";\r\nimport { Container, Grid, Paper } from \"@material-ui/core\";\r\nimport {Doughnut} from \"react-chartjs-2\";\r\nimport axios from \"axios\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\n\r\nconst useStyles = makeStyles({\r\n\ttable: {},\r\n\tchart: {\r\n\t\theight: \"700px\",\r\n\t},\r\n\tmCard: {\r\n\t\theight: \"100px\",\r\n\t\tborderRadius: \"20px\",\r\n\t\tpadding: \"10px\",\r\n\t},\r\n\tcardRed: {\r\n\t\tbackground: `linear-gradient(16deg, rgba(234,81,121,1) 0%, rgba(172,54,115,1) 100%)`,\r\n\t},\r\n});\r\n\r\nconst options = {\r\n\tscales: {\r\n\t\tyAxes: [\r\n\t\t\t{\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tbeginAtZero: true,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t],\r\n\t},\r\n};\r\nfunction DashboardPanel() {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [queryData, setQueryData] = useState({\r\n\t\tstart: moment().startOf(\"week\").format(\"llll\"),\r\n\t\tend: moment().endOf(\"week\").format(\"llll\"),\r\n\t\tlimit: 7,\r\n\t});\r\n\tconst [dashboardData, setDashboardData] = useState(null);\r\n\tconst [weeklyTransactions, setWeeklyTransactions] = useState(null);\r\n\tlet query = queryString.stringify(queryData);\r\n\tlet weeklyIncome = [];\r\n\tif (dashboardData) {\r\n\t\tfor (let i = 1; i <= 7; i++) {\r\n\t\t\tlet index = dashboardData.data.items.findIndex((item) => item._id == i);\r\n\t\t\tif (index === -1) weeklyIncome.push(0);\r\n\t\t\telse weeklyIncome.push(dashboardData.data.items[index][\"grandtotal\"]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst data = {\r\n\t\tlabels: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thr\", \"Fri\", \"Sat\"],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: \"# of Votes\",\r\n\t\t\t\tdata: weeklyIncome,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: [\"rgb(30,144,255)\" ,   \"rgb(0,0,128) \"  , \"rgb(70,130,180) \"   , \"rgb(0,0,255) \"   \r\n\t\t\t\t   ,   \"rgb(123,104,238) \"    ,  \"rgb(0,206,209)\"   ,  \"rgb(135,206,235)\"],\r\n\t\t\t\tborderColor: \"rgba(255, 99, 132, 0.2)\",\r\n\t\t\t},\r\n\t\t],\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function getDashboardData() {\r\n\t\t\tlet result = await fetch(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}transaction/dashboard?${query}`,\r\n\t\t\t);\r\n\t\t\tlet data = await result.json();\r\n\t\t\tsetDashboardData(data);\r\n\t\t}\r\n\t\tgetDashboardData();\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tasync function getWeeklyTransaction() {\r\n\t\t\tlet result = await axios(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}transaction?${query}`,\r\n\t\t\t);\r\n\t\t\tsetWeeklyTransactions(result.data.data.transactions);\r\n\t\t}\r\n\t\tgetWeeklyTransaction();\r\n\t}, []);\r\n\tconsole.log(weeklyTransactions);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Container>\r\n\t\t\t\t<h2>Dashboard</h2>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid items xs={12} lg={4}>\r\n\t\t\t\t\t\t<Paper className=\"d-cards d-card-maroon\">\r\n\t\t\t\t\t\t\t<h2>Transactions</h2>\r\n\t\t\t\t\t\t\t<h2>{dashboardData && dashboardData.data.count}</h2>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid items xs={12} lg={4}>\r\n\t\t\t\t\t\t<Paper className=\"d-cards d-card-indigo\">\r\n\t\t\t\t\t\t\t<h2>Products</h2>\r\n\t\t\t\t\t\t\t<h2>{dashboardData && dashboardData.data.qty}</h2>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid items xs={12} lg={4}>\r\n\t\t\t\t\t\t<Paper className=\"d-cards d-card-orange\">\r\n\t\t\t\t\t\t\t<h2>Income</h2>\r\n\t\t\t\t\t\t\t<h2>$\r\n\t\t\t\t\t\t\t\t{Math.round(dashboardData && dashboardData.data.total, 2)}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={4}>\r\n\t\t\t\t\t<Grid item lg={6} sm={12} >\r\n\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t<Doughnut className={classes.chart} data={data} options={options} />\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item lg={6} sm={12}>\r\n\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Reciept no</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Date</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Quantity</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Total</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{weeklyTransactions &&\r\n\t\t\t\t\t\t\t\t\t\tweeklyTransactions.map((row) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={row._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{row._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moment(row._createdAt).format(\"llll\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.items.length}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.grandtotal}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DashboardPanel;","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport {\r\n\tButton,\r\n\tChip,\r\n\tContainer,\r\n\tFormControl,\r\n\tGrid,\r\n\tPaper,\r\n\tInputLabel,\r\n\tSelect,\r\n\tInputAdornment,\r\n\tOutlinedInput,\r\n\tLinearProgress,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport moment from \"moment\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Swal from \"sweetalert2\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nconst useStyles = makeStyles({\r\n\ttable: {\r\n\t\tminWidth: 650,\r\n\t},\r\n});\r\n\r\nfunction Users(props) {\r\n\tconst classes = useStyles();\r\n\tconst [users, setUsers] = useState(null);\r\n\tconst [refresh, setRefresh] = useState(false);\r\n\tconst [query, setQuery] = useState({\r\n\t\tlimit: 100,\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\taxios(\r\n\t\t\t`${process.env.REACT_APP_BACKEND_API}user?${queryString.stringify(\r\n\t\t\t\tquery,\r\n\t\t\t)}`,\r\n\t\t).then((result) => {\r\n\t\t\tif (result.data.status === \"success\") setUsers(result.data.data.users);\r\n\t\t});\r\n\t}, [refresh, query]);\r\n\tconst handleDelete = (id) => {\r\n\t\tSwal.fire({\r\n\t\t\ttitle: \"Are you sure?\",\r\n\t\t\ttext: \"You won't be able to revert this!\",\r\n\t\t\ticon: \"warning\",\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonColor: \"#3085d6\",\r\n\t\t\tcancelButtonColor: \"#d33\",\r\n\t\t\tconfirmButtonText: \"Delete\",\r\n\t\t}).then((result) => {\r\n\t\t\tif (result.isConfirmed) {\r\n\t\t\t\taxios\r\n\t\t\t\t\t.delete(`${process.env.REACT_APP_BACKEND_API}user/${id}`)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tSwal.fire(\"Deleted!\", \"User has been deleted..\", \"success\");\r\n\t\t\t\t\t\tsetRefresh(!refresh);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tSwal.fire(\"Opps!\", \"Somthing went wrong..\", \"error\");\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst handleQueryChange = (e) => {\r\n\t\tsetUsers(null);\r\n\t\tsetQuery({ ...query, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconsole.log(query);\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Container>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Link to={`${props.match.path}/new`}>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"secondary\">\r\n\t\t\t\t\t\t\t+ New User\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container justifyContent=\"flex-end\">\r\n\t\t\t\t\t<form onChange={handleQueryChange}>\r\n\t\t\t\t\t\t<FormControl variant=\"outlined\">\r\n\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\tid=\"outlined-adornment-password\"\r\n\t\t\t\t\t\t\t\tname=\"keyword\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Search users...\"\r\n\t\t\t\t\t\t\t\tendAdornment={\r\n\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tlabelWidth={70}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.formControl}>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"outlined-age-native-simple\">Role</InputLabel>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tnative\r\n\t\t\t\t\t\t\t\tvalue=\"\"\r\n\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\tname: \"role\",\r\n\t\t\t\t\t\t\t\t\tid: \"outlined-age-native-simple\",\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<option aria-label=\"None\" value=\"\" />\r\n\t\t\t\t\t\t\t\t<option value=\"all\">All</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Admin\">Admin</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Cashier\">Cashier</option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.formControl}>\r\n\t\t\t\t\t\t\t<InputLabel htmlFor=\"outlined-age-native-simple\">\r\n\t\t\t\t\t\t\t\tSort By\r\n\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tnative\r\n\t\t\t\t\t\t\t\tvalue=\"\"\r\n\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\tname: \"sort\",\r\n\t\t\t\t\t\t\t\t\tid: \"outlined-age-native-simple\",\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<option aria-label=\"None\" value=\"\" />\r\n\t\t\t\t\t\t\t\t<option value=\"Newest\">Newest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Oldest\">Oldest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Name\">Name</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Last Active\">Last Active</option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Full Name</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">User Name</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Role</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Last Active</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Actions</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{users ? (\r\n\t\t\t\t\t\t\t\t\t\tusers.map((user) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={user._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{user.fullname}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{user.username}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={user.role}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moment(user.lastActive).format(\"llll\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`${props.match.path}/update/${user._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon onClick={() => handleDelete(user._id)} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Grid\r\n\t\t\t\t\t\t\t\t\t\t\tcontainer\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"100%\" }}\r\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<LinearProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: \"20px\", width: \"100%\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Users;","import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { FormControl, Select, InputLabel, Paper } from \"@material-ui/core\";\r\nimport Joi from \"joi-browser\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tform: {\r\n\t\twidth: \"100%\", // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tpadding: \"20px\",\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\nexport default function UserForm(props) {\r\n\tconst [formData, setFormData] = useState({});\r\n\tconst [errors, setErrors] = useState(null);\r\n\tconst [method, setMethod] = useState(\"POST\");\r\n\tconst classes = useStyles();\r\n\tconst handleFormChange = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tprops.match.params.id &&\r\n\t\t\taxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}user/${props.match.params.id}`,\r\n\t\t\t\t)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tif (result.data.status === \"success\") {\r\n\t\t\t\t\t\tsetFormData(result.data.data);\r\n\t\t\t\t\t\tsetMethod(\"PUT\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t}, []);\r\n\r\n\tconst formSchema = {\r\n\t\tfullname: Joi.string().required().min(7).max(30),\r\n\t\tusername: Joi.string().required().min(7).max(30),\r\n\t\temail: Joi.string().email().required().min(7).max(30),\r\n\t\tpassword: Joi.string().required().min(7).max(30),\r\n\t\trole: Joi.string().required(),\r\n\t};\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t//validate the request\r\n\t\tlet validation = Joi.validate(formData, formSchema, { abortEarly: false });\r\n\t\tif (validation.error) {\r\n\t\t\tsetErrors(validation.error.details);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//make post request to server\r\n\t\taxios({\r\n\t\t\tmethod,\r\n\t\t\turl: `${process.env.REACT_APP_BACKEND_API_URL}${\r\n\t\t\t\tmethod === \"PUT\" ? \"user/\" + props.match.params.id : \"user\"\r\n\t\t\t}`,\r\n\t\t\tdata: formData,\r\n\t\t})\r\n\t\t\t.then((result) => {\r\n\t\t\t\tif (result.status === 200) {\r\n\t\t\t\t\tsetErrors(null);\r\n\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t`User ${method === \"PUT\" ? \"updated\" : \"created\"} successfully...`,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tprops.history.goBack();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t});\r\n\t};\r\n\tconsole.log(errors);\r\n\tconsole.log(formData);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t\r\n\t\t\t<Paper>\r\n\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\tclassName={classes.form}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"fname\"\r\n\t\t\t\t\t\t\t\t\tname=\"fullname\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Full Name\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.fullname}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"fullname\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"lastName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"User name\"\r\n\t\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"lname\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.username}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"username\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"fname\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.email}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"email\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"fname\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.password}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"password\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t<FormControl variant=\"outlined\" fullWidth className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tnative\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Role\"\r\n\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\tname: \"role\",\r\n\t\t\t\t\t\t\t\t\t\tid: \"outlined-age-native-simple\",\r\n\t\t\t\t\t\t\t\t\t\tshrink: false,\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option aria-label=\"None\" value=\"\" />\r\n\t\t\t\t\t\t\t\t\t<option selected={formData.role === \"admin\"} value=\"admin\">\r\n\t\t\t\t\t\t\t\t\t\tAdmin\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\tselected={formData.role === \"cashier\"}\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"cashier\">\r\n\t\t\t\t\t\t\t\t\t\tCashier\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"role\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName=\"c-btn mt-5\">\r\n\t\t\t\t\t\t\t{method === \"POST\" ? \"Create User\" : \"Update User\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { FormControl, Select, InputLabel, Paper } from \"@material-ui/core\";\r\nimport Joi from \"joi-browser\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport PhotoIcon from \"@material-ui/icons/Photo\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tform: {\r\n\t\twidth: \"100%\", // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tpadding: \"20px\",\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\nexport default function ProductForm(props) {\r\n\tconst [formData, setFormData] = useState({});\r\n\tconst [errors, setErrors] = useState(null);\r\n\tconst [method, setMethod] = useState(\"POST\");\r\n\tconst [categories, setCategories] = useState(null);\r\n\tconst [productImage, setProductImage] = useState(null);\r\n\tconst classes = useStyles();\r\n\tconst handleFormChange = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tprops.match.params.id &&\r\n\t\t\taxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}product/${props.match.params.id}`,\r\n\t\t\t\t)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tif (result.data.status === \"success\") {\r\n\t\t\t\t\t\tlet { name, price, description, image } = result.data.data;\r\n\t\t\t\t\t\tsetFormData({ ...formData, name, price, description, image });\r\n\r\n\t\t\t\t\t\t// setFormData(result.data.data);\r\n\t\t\t\t\t\tsetMethod(\"PUT\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\taxios(`${process.env.REACT_APP_BACKEND_API_URL}category`).then((result) =>\r\n\t\t\tsetCategories(result.data.data.categories),\r\n\t\t);\r\n\t}, []);\r\n\r\n\tconst formSchema = {\r\n\t\tname: Joi.string().required().min(3).max(50),\r\n\t\tprice: Joi.number().required().max(1000000000000),\r\n\t\tdescription: Joi.string().required().min(7).max(500),\r\n\t\tcategory: Joi.string().required().min(7).max(30),\r\n\t\tlocation: Joi.string(),\r\n\t\t_id: Joi.string(),\r\n\t\timage: Joi.string(),\r\n\t};\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t//validate the request\r\n\t\tlet validation = Joi.validate(formData, formSchema, { abortEarly: false });\r\n\t\tif (validation.error) {\r\n\t\t\tsetErrors(validation.error.details);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//if form data contains files\r\n\t\tlet i = new FormData();\r\n\t\tfor (let x in formData) i.append(x, formData[x]);\r\n\r\n\t\t//image exist we will append thats to From data\r\n\t\tproductImage && i.append(\"image\", productImage);\r\n\r\n\t\t//make post request to server\r\n\t\taxios({\r\n\t\t\tmethod,\r\n\t\t\turl: `${process.env.REACT_APP_BACKEND_API_URL}${\r\n\t\t\t\tmethod === \"PUT\" ? \"product/\" + props.match.params.id : \"product\"\r\n\t\t\t}`,\r\n\t\t\tdata: i,\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"multipart/formData\",\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((result) => {\r\n\t\t\t\tif (result.status === 200) {\r\n\t\t\t\t\tsetErrors(null);\r\n\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t`Product ${\r\n\t\t\t\t\t\t\tmethod === \"PUT\" ? \"updated\" : \"created\"\r\n\t\t\t\t\t\t} successfully...`,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tprops.history.goBack();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleUpload = (e) => {\r\n\t\tlet fileReader = new FileReader();\r\n\t\tfileReader.readAsDataURL(e.target.files[0]);\r\n\t\tfileReader.onload = function (fileEvent) {\r\n\t\t\tsetProductImage(fileEvent.target.result);\r\n\t\t};\r\n\t};\r\n\tconsole.log(errors);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Grid container className=\"mt-5\">\r\n\t\t\t\t<Button onClick={() => props.history.goBack()} variant=\"default\">\r\n\t\t\t\t\t<ArrowBackIcon /> Back\r\n\t\t\t\t</Button>\r\n\t\t\t</Grid>\r\n\t\t\t<Paper>\r\n\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\tclassName={classes.form}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Product Name\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.name}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"name\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Price\"\r\n\t\t\t\t\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.price}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"price\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"fname\"\r\n\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Product description\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.description}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"description\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t<FormControl variant=\"outlined\" fullWidth className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tnative\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Category\"\r\n\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\tname: \"category\",\r\n\t\t\t\t\t\t\t\t\t\tid: \"outlined-age-native-simple\",\r\n\t\t\t\t\t\t\t\t\t\tshrink: false,\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option aria-label=\"None\" value=\"\" />\r\n\t\t\t\t\t\t\t\t\t{categories &&\r\n\t\t\t\t\t\t\t\t\t\tcategories.map((category) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<option key={category._id} value={category._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{category.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"category\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid container justifyContent=\"flex-start\" className=\"my-3\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"icon-button-file\">\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"c-btn\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tcomponent=\"span\">\r\n\t\t\t\t\t\t\t\t\t<PhotoIcon /> &nbsp; Upload Image\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tonChange={handleUpload}\r\n\t\t\t\t\t\t\t\tname=\"location\"\r\n\t\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\t\tclassName=\"d-none\"\r\n\t\t\t\t\t\t\t\tid=\"icon-button-file\"\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{(productImage || formData.image) && (\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: \"200px\", marginLeft: \"100px\" }}\r\n\t\t\t\t\t\t\t\t\tsrc={productImage ? productImage : formData.image}></img>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName=\"c-btn mt-5\">\r\n\t\t\t\t\t\t\t{method === \"POST\" ? \"Create Product\" : \"Update Product\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t);\r\n}/* import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { FormControl, InputLabel, Paper, Select } from \"@material-ui/core\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport Joi from \"joi-browser\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport ImageIcon from \"@material-ui/icons/Image\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t},\r\n\tform: {\r\n\t\twidth: \"100%\", // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tpadding: \"20px\",\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\nexport default function ProductForm(props) {\r\n\tconst classes = useStyles();\r\n\tconst [formData, setFormData] = useState({});\r\n\tconst [method, setMethod] = useState(\"POST\");\r\n\tconst [categories, setCategories] = useState(null);\r\n\tconst [image, setImage] = useState(null);\r\n\r\n\tconst [errors, setErrors] = useState(null);\r\n\tuseEffect(() => {\r\n\t\tlet productId = props.match.params.id;\r\n\r\n\t\tproductId &&\r\n\t\t\taxios(`${process.env.REACT_APP_BACKEND_API}product/${productId}`).then(\r\n\t\t\t\t(result) => {\r\n\t\t\t\t\tif (result.data.status === \"success\") {\r\n\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\tprice,\r\n\t\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\t\timage: hidden,\r\n\t\t\t\t\t\t\tcategory,\r\n\t\t\t\t\t\t} = result.data.data;\r\n\t\t\t\t\t\tsetFormData({\r\n\t\t\t\t\t\t\t...formData,\r\n\t\t\t\t\t\t\tname,\r\n\t\t\t\t\t\t\tprice,\r\n\t\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\t\thidden,\r\n\t\t\t\t\t\t\tcategory,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetMethod(\"PUT\");\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\taxios(`${process.env.REACT_APP_BACKEND_API}category`).then((result) => {\r\n\t\t\tif (result.data.status === \"success\")\r\n\t\t\t\tsetCategories(result.data.data.categories);\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst handleChange = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconst userFormSchema = {\r\n\t\tname:\r\n\t\t\tmethod === \"PUT\"\r\n\t\t\t\t? Joi.string().min(3).max(100)\r\n\t\t\t\t: Joi.string().required().min(3).max(100),\r\n\t\tprice:\r\n\t\t\tmethod === \"PUT\"\r\n\t\t\t\t? Joi.string().max(10000000).min(0)\r\n\t\t\t\t: Joi.number().required().min(0).max(10000000000000),\r\n\t\tdescription:\r\n\t\t\tmethod === \"PUT\"\r\n\t\t\t\t? Joi.string().max(300)\r\n\t\t\t\t: Joi.string().required().max(300),\r\n\t\thidden: Joi.string(),\r\n\t\tcategory: Joi.string().required(),\r\n\t};\r\n\r\n\tconsole.log(formData);\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t//validate form data\r\n\r\n\t\tlet validation = Joi.validate(formData, userFormSchema, {\r\n\t\t\tabortEarly: false,\r\n\t\t});\r\n\t\tif (validation.error) {\r\n\t\t\tsetErrors(validation.error.details);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet multiFormData = new FormData();\r\n\t\tfor (let i in formData) {\r\n\t\t\tif (i === \"price\") {\r\n\t\t\t\tmultiFormData.append(i, formData[i]);\r\n\t\t\t} else {\r\n\t\t\t\tmultiFormData.append(i, formData[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\timage && multiFormData.append(\"image\", image);\r\n\t\taxios({\r\n\t\t\tmethod: method,\r\n\t\t\turl: `${process.env.REACT_APP_BACKEND_API}${\r\n\t\t\t\tmethod === \"PUT\" ? \"product/\" + props.match.params.id : \"product\"\r\n\t\t\t}`,\r\n\t\t\tdata: multiFormData,\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-type\": \"multipart/formdata\",\r\n\t\t\t},\r\n\t\t})\r\n\t\t\t.then((result) => {\r\n\t\t\t\tif (result.data.status === \"success\") {\r\n\t\t\t\t\tsetErrors(null);\r\n\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t\"Success\",\r\n\t\t\t\t\t\t`Product ${\r\n\t\t\t\t\t\t\tmethod === \"PUT\" ? \"updated\" : \"created\"\r\n\t\t\t\t\t\t} successfully...`,\r\n\t\t\t\t\t\t\"success\",\r\n\t\t\t\t\t);\r\n\t\t\t\t\tprops.history.goBack();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSwal.fire(\"Opps\", \"Something went wrong...\", \"error\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => Swal.fire(\"Opps\", \"Something went wrong...\", \"error\"));\r\n\t};\r\n\tconst handleUpload = (e) => {\r\n\t\tvar fileReader = new FileReader();\r\n\t\tfileReader.readAsDataURL(e.target.files[0]);\r\n\t\tfileReader.onload = function (oFREvent) {\r\n\t\t\tconsole.log(oFREvent.target.result);\r\n\t\t\tsetImage(oFREvent.target.result);\r\n\t\t};\r\n\t};\r\n\r\n\tconsole.log(errors);\r\n\tconsole.log(formData);\r\n\tconsole.log(image);\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"lg\">\r\n\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t<Button variant=\"defult\" onClick={() => props.history.goBack()}>\r\n\t\t\t\t\t<ArrowBackIcon />\r\n\t\t\t\t</Button>{\" \"}\r\n\t\t\t\tNew Product\r\n\t\t\t</Typography>\r\n\r\n\t\t\t<Paper>\r\n\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tclassName={classes.form}\r\n\t\t\t\t\t\tnoValidate>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Product Name\"\r\n\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\tshrink: false,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.name}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors.find((error) => error.context.key === \"name\") &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((error) => error.context.key === \"name\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p-errors \">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"lastName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Price\"\r\n\t\t\t\t\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\tshrink: false,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.price}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors.find((error) => error.context.key === \"price\") &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((error) => error.context.key === \"price\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid item sm={12}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\trows={3}\r\n\t\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Product description\"\r\n\t\t\t\t\t\t\t\t\tname=\"description\"\r\n\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\tshrink: false,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.description}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors.find((error) => error.context.key === \"email\") &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((error) => error.context.key === \"email\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"p-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={12}>\r\n\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" fullWidth>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tnative\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Age\"\r\n\t\t\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"category\",\r\n\t\t\t\t\t\t\t\t\t\t\tid: \"outlined-age-native-simple\",\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<option aria-label=\"None\" value=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t{categories &&\r\n\t\t\t\t\t\t\t\t\t\t\tcategories.map((category) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselected={formData.category === category._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={category._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{category.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\t\terrors.find((error) => error.context.key === \"category\") &&\r\n\t\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t\t.filter((error) => error.context.key === \"category\")\r\n\t\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"p-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<label className=\"my-2\" htmlFor=\"icon-button-file\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"c-btn\"\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tcomponent=\"span\">\r\n\t\t\t\t\t\t\t\t<ImageIcon /> &nbsp; Upload\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tonChange={handleUpload}\r\n\t\t\t\t\t\t\tname=\"hidden\"\r\n\t\t\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\t\t\tclassName=\"d-none\"\r\n\t\t\t\t\t\t\tid=\"icon-button-file\"\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{(image || formData.hidden) && (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tstyle={{ width: \"200px\" }}\r\n\t\t\t\t\t\t\t\tsrc={image ? image : formData[\"hidden\"]}\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Grid container justifyContent=\"flex-end\">\r\n\t\t\t\t\t\t\t{method === \"POST\" ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"c-btn mt-5\">\r\n\t\t\t\t\t\t\t\t\tCreate\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"c-btn mt-5\">\r\n\t\t\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t);\r\n} */","import React, { useState, useEffect } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { FormControl, Select, InputLabel, Paper } from \"@material-ui/core\";\r\nimport Joi from \"joi-browser\";\r\nimport Swal from \"sweetalert2\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tform: {\r\n\t\twidth: \"100%\", // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(3),\r\n\t\tpadding: \"20px\",\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\nexport default function UserForm(props) {\r\n\tconst [formData, setFormData] = useState({});\r\n\tconst [errors, setErrors] = useState(null);\r\n\tconst [method, setMethod] = useState(\"POST\");\r\n\tconst classes = useStyles();\r\n\tconst handleFormChange = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tprops.match.params.id &&\r\n\t\t\taxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}user/${props.match.params.id}`,\r\n\t\t\t\t)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tif (result.data.status === \"success\") {\r\n\t\t\t\t\t\tsetFormData(result.data.data);\r\n\t\t\t\t\t\tsetMethod(\"PUT\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t}, []);\r\n\r\n\tconst formSchema = {\r\n\t\tfullname: Joi.string().required().min(7).max(30),\r\n\t\tusername: Joi.string().required().min(7).max(30),\r\n\t\temail: Joi.string().email().required().min(7).max(30),\r\n\t\tpassword: Joi.string().required().min(7).max(30),\r\n\t\trole: Joi.string().required(),\r\n\t};\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t//validate the request\r\n\t\tlet validation = Joi.validate(formData, formSchema, { abortEarly: false });\r\n\t\tif (validation.error) {\r\n\t\t\tsetErrors(validation.error.details);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//make post request to server\r\n\t\taxios({\r\n\t\t\tmethod,\r\n\t\t\turl: `${process.env.REACT_APP_BACKEND_API_URL}${\r\n\t\t\t\tmethod === \"PUT\" ? \"user/\" + props.match.params.id : \"user\"\r\n\t\t\t}`,\r\n\t\t\tdata: formData,\r\n\t\t})\r\n\t\t\t.then((result) => {\r\n\t\t\t\tif (result.status === 200) {\r\n\t\t\t\t\tsetErrors(null);\r\n\t\t\t\t\tSwal.fire(\r\n\t\t\t\t\t\t`User ${method === \"PUT\" ? \"updated\" : \"created\"} successfully...`,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tprops.history.goBack();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tSwal.fire(\"Error\", \"Somethings went wrong\", \"error\");\r\n\t\t\t});\r\n\t};\r\n\tconsole.log(errors);\r\n\tconsole.log(formData);\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t\t<h4>Update Account</h4>\r\n\t\t\t<Paper>\r\n\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\tclassName={classes.form}>\r\n\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"fname\"\r\n\t\t\t\t\t\t\t\t\tname=\"fullname\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Full Name\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.fullname}\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"fullname\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"lastName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"User name\"\r\n\t\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"lname\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.username}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"username\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"fname\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.email}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"email\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\tautoComplete=\"fname\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\tid=\"firstName\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tvalue={formData && formData.password}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{errors &&\r\n\t\t\t\t\t\t\t\t\terrors\r\n\t\t\t\t\t\t\t\t\t\t.filter((err) => err.context.key === \"password\")\r\n\t\t\t\t\t\t\t\t\t\t.map((error) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"form-errors\">{error.message}</p>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName=\"c-btn mt-5\">\r\n\t\t\t\t\t\t\t{method === \"POST\" ? \"Update User\": \"\"}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Paper>\r\n\t\t</Container>\r\n\t);\r\n}","import React, {useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport queryString from \"query-string\";\r\nimport { Container, Grid, Paper } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport ListIcon from \"@material-ui/icons/List\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nimport {\r\n\t\tButton,\r\n\tInputAdornment,\r\n\tTextField,\r\n\tFormControl,\r\n\tSelect,\r\n\tBox,\r\n\r\n\r\n} from \"@material-ui/core\";\r\nimport List from \"@material-ui/icons/List\";\r\nimport Transactions from \"./Transactions\";\r\nconst useStyles = makeStyles({\r\n\ttable: {},\r\n\tfirstRow: {\r\n\t\tmargin: \"30px 0px\",\r\n\t},\r\n});\r\n\r\n\r\nfunction Report(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [queryData, setQueryData] = useState({\r\n\t\tstart: moment().startOf(\"week\").format(\"llll\"),\r\n\t\tend: moment().endOf(\"week\").format(\"llll\"),\r\n\t\tlimit: 20,\r\n\t});\r\n\tconst [reportData, setReportData] = useState(null);\r\n\tconst [transactions, setTransactions] = useState(null);\r\n\t const [date, setDate] = useState(new Date());\r\n\tlet query = queryString.stringify(queryData);\r\n\tlet income = [];\r\n\r\n\t\r\n\tuseEffect(() => {\r\n\t\tasync function getReportData() {\r\n\t\t\tlet result = await fetch(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}transaction/?${query}`,\r\n\t\t\t);\r\n\t\t\tlet data = await result.json();\r\n\t\t\tsetReportData(data);\r\n\t\t}\r\n\t\tgetReportData();\r\n\t}, []);\r\n\tuseEffect(() => {\r\n\t\tasync function getTransaction() {\r\n\t\t\tlet result = await axios(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}transaction/?${query}`,\r\n\t\t\t);\r\n\t\t\tsetTransactions(result.data.data.transactions);\r\n\t\t}\r\n\t\tgetTransaction();\r\n\t}, []);\r\n\tconsole.log(transactions);\r\n\r\n\treturn (\r\n<div>\r\n\t\t\t<Container >\r\n\t\t\t\t<h2 align=\"left\">Report</h2>\r\n\t\t\t\t<Grid container  justifyContent=\"flex-end\" className=\"my-3\">\r\n                            \r\n\r\n\t\t\t\t\t\t\t<form className={classes.container} noValidate>\r\n                             <TextField\r\n                                id=\"date\"\r\n                              label=\"Start Date\"\r\n                                type=\"date\"\r\n                        defaultValue=\"2021-08-14\"\r\n                     className={classes.textField}\r\n                 InputLabelProps={{\r\n                      shrink: true,\r\n                          }}\r\n                         />\r\n                       </form>\r\n                            <form className={classes.container} noValidate>\r\n                             <TextField\r\n                                id=\"date\"\r\n                              label=\"End Date\"\r\n                                type=\"date\"\r\n                        defaultValue= \"2021-08-14\"\r\n                     className={classes.textField}\r\n                 InputLabelProps={{\r\n                      shrink: true,\r\n                          }}\r\n                         />\r\n                       </form>\r\n\t\t\t\t\t\t\t<FormControl variant=\"outlined\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tnative\r\n\t\t\t\t\t\t\t\tplaceholder=\"Role\"\r\n\t\t\t\t\t\t\t\t defaultValue=\"Newest\"\r\n\t\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\t\tname: \"sort\",\r\n\t\t\t\t\t\t\t\t\tid: \"outlined-age-native-simple\",\r\n\t\t\t\t\t\t\t\t\tshrink: false,\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<option aria-label=\"None\" value=\"\" />\r\n\t\t\t\t\t\t\t\t<option value=\"Newest\">Newest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Oldest\">Oldest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Name\">Name</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Highest to Lowest\">Highest to Lowest</option>\r\n\t\t\t\t\t\t\t\t<option value=\"Lowest to Highest\">Lowest to Highest</option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container justifyContent=\"flex-end\" className={classes.firstRow}>\r\n\t\t\t\r\n\t\t\t\t\t<Grid item lg={12} sm={12}>\r\n\t\t\t\t\t\t<Paper>\r\n\t\t\t\t\t\t\t<Table className={classes.table} aria-label=\"simple table\">\r\n\t\t\t\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell>Id</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Date</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Quantity</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">Total</TableCell>\r\n\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t\t\t\t{transactions &&\r\n\t\t\t\t\t\t\t\t\t\t  transactions.map((row) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={row._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{row._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{moment(row._createdAt).format(\"llll\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.items.length}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">{row.grandtotal}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"right\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`${props.match.path}/new}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ListIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</TableBody>\r\n\t\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default Report;","import React from 'react'\r\nfunction Logout() {\r\n    localStorage.clear();\r\n    window.location.href=\"/login\";\r\n  \r\n}\r\n\r\nexport default Logout;","import React from \"react\";\r\nimport Header from \"../components/Header\";\r\nimport Sidebar from \"../components/Sidebar.jsx\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport \"./dashboard.css\";\r\nimport Products from \"../components/Products\";\r\nimport Categories from \"../components/Categories\";\r\nimport CategoryForm from \"../components/CategoryForm\";\r\nimport Transactions from \"../components/Transactions\";\r\nimport DashboardPanel from \"../components/DashboardPanel\";\r\nimport Users from \"../components/Users\";\r\nimport Settings from \"../components/Setting\";\r\nimport UserForm from \"../components/UserForm\";\r\nimport ProductForm from \"../components/ProductForm\";\r\nimport Account from \"../components/Account\";\r\nimport Report from \"../components/Report\";\r\nimport Logout from \"../components/Logout\";\r\nimport ReceiptModal from \"../components/ReceiptModal\";\r\nfunction Dashboard(props) {\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div className=\"content\">\r\n\t\t\t\t<div className=\"sidebar-wrap\">\r\n\t\t\t\t\t<Sidebar />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"main-area\">\r\n\t\t\t\t\t<div className=\"first-row\">\r\n\t\t\t\t\t\t<Header />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/users/update/:id?`}\r\n\t\t\t\t\t\t\tcomponent={UserForm}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\texact\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/users/new`}\r\n\t\t\t\t\t\t\tcomponent={UserForm}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route exact path={`${props.match.path}/users`} component={Users} />\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/products/new`}\r\n\t\t\t\t\t\t\tcomponent={ProductForm}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/products/update/:id?`}\r\n\t\t\t\t\t\t\tcomponent={ProductForm}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route path={`${props.match.path}/products`} component={Products} />\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/transactions`}\r\n\t\t\t\t\t\t\tcomponent={Transactions}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/categories/update/:id?`}\r\n\t\t\t\t\t\t\tcomponent={CategoryForm}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t    exact\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/categories/new`}\r\n\t\t\t\t\t\t\tcomponent={CategoryForm}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/categories`}\r\n\t\t\t\t\t\t\tcomponent={Categories}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/setting`}\r\n\t\t\t\t\t\t\tcomponent={Settings}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/account`}\r\n\t\t\t\t\t\t\tcomponent={Account}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/report`}\r\n\t\t\t\t\t\t\tcomponent={Report}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/report/new`}\r\n\t\t\t\t\t\t\tcomponent={ReceiptModal}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\tpath={`${props.match.path}/logout`}\r\n\t\t\t\t\t\t\tcomponent={Logout}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Route path={`${props.match.path}/`} component={DashboardPanel} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n\r\nexport default Dashboard;","import React, { useState } from \"react\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Joi, { errors } from \"joi-browser\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\theight: \"100vh\",\r\n\t},\r\n\timage: {\r\n\t\tbackgroundImage: \"url(https://source.unsplash.com/random)\",\r\n\t\tbackgroundRepeat: \"no-repeat\",\r\n\t\tbackgroundColor:\r\n\t\t\ttheme.palette.type === \"light\"\r\n\t\t\t\t? theme.palette.grey[50]\r\n\t\t\t\t: theme.palette.grey[900],\r\n\t\tbackgroundSize: \"cover\",\r\n\t\tbackgroundPosition: \"center\",\r\n\t},\r\n\tpaper: {\r\n\t\tmargin: theme.spacing(8, 4),\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t},\r\n\tform: {\r\n\t\twidth: \"100%\", // Fix IE 11 issue.\r\n\t\tmarginTop: theme.spacing(1),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\nexport default function Login(props) {\r\n\tconst classes = useStyles();\r\n\tconst [formData, setFormData] = useState({});\r\n\tconst [error, setError] = useState([]);\r\n\tconst [info, setInfo] = useState(\"\");\r\n\r\n\tconst handleFormChange = (e) => {\r\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\r\n\t};\r\n\tconst loginSchema = {\r\n\t\tusername: Joi.string().required().min(8).max(30),\r\n\t\tpassword: Joi.string().required().min(7).max(30),\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tlet validate = Joi.validate(formData, loginSchema);\r\n\t\tconsole.log(validate);\r\n\t\tif (validate.error) {\r\n\t\t\tsetError(validate.error.details);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tasync function attemptLogin() {\r\n\t\t\tlet result = await fetch(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_API_URL}auth/login`,\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tbody: JSON.stringify(formData),\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t\tlet data = await result.json();\r\n\t\t\tif (data.status === \"success\") {\r\n\t\t\t\tsetInfo(\"Login successfull...\");\r\n\t\t\t\tlocalStorage.setItem(\"token\", data.token);\r\n\t\t\t\tprops.history.push(\"/dashboard\");\r\n\t\t\t} else {\r\n\t\t\t\tsetError([{ message: \"Authentication failed\" }]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tattemptLogin();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Grid container component=\"main\" className={classes.root}>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n\t\t\t<Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{error.length !== true &&\r\n\t\t\t\t\t\terror.map((er) => <Alert severity=\"error\">{er.message}</Alert>)}\r\n\t\t\t\t\t{info && <Alert severity=\"success\">{info}</Alert>}\r\n\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\tclassName={classes.form}\r\n\t\t\t\t\t\tnoValidate>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tclassName={classes.submit}>\r\n\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</Grid>\r\n\t\t</Grid>\r\n\t);\r\n}","import \"./App.css\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport NotFound from \"./components/NotFound\";\nimport Dashboard from \"./screens/Dashboard\";\nimport Login from \"./components/Login\";\nimport Logout from \"./components/Logout\";\nimport axios from \"./components/config/axiosConfig\";\nimport React, { useState, useEffect } from \"react\";\nexport const CartContext = React.createContext();\nexport const SettingContext = React.createContext();\n\nfunction App() {\n\tconst [cartItems, setCartItems] = useState([]);\n\tconst [allProducts, setAllProducts] = useState(null);\n\tconst [settings, setSettings] = useState(null);\n\tconst updateCartItems = (id) => {\n\t\tlet index = cartItems.findIndex((item) => item._id === id);\n\t\tif (index === -1) {\n\t\t\tlet product = allProducts.find((product) => product._id === id);\n\t\t\tproduct.qty = 1;\n\t\t\tproduct.price = +product.price;\n\t\t\tsetCartItems([...cartItems, product]);\n\t\t} else {\n\t\t\tlet newCartItems = [...cartItems];\n\t\t\tnewCartItems.splice(index, 1);\n\t\t\tsetCartItems(newCartItems);\n\t\t}\n\t};\n\tconst deleteCartItem = (id) => {\n\t\tlet index = cartItems.findIndex((item) => item._id === id);\n\t\tlet newCartItems = [...cartItems];\n\t\tnewCartItems.splice(index, 1);\n\t\tsetCartItems(newCartItems);\n\t};\n\tconst deleteAllCartItems = (params) => {\n\t\tsetCartItems([]);\n\t};\n\n\tconst updateQuantity = (id, type) => {\n\t\tlet index = cartItems.findIndex((item) => item._id === id);\n\t\tlet updatedCart = [...cartItems];\n\t\tif (type === \"increment\") {\n\t\t\tupdatedCart[index][\"qty\"]++;\n\t\t\tsetCartItems(updatedCart);\n\t\t\treturn;\n\t\t} else if (type === \"decrement\") {\n\t\t\tif (updatedCart[index][\"qty\"] === 1) return;\n\t\t\tupdatedCart[index][\"qty\"]--;\n\t\t\tsetCartItems(updatedCart);\n\t\t}\n\t};\n\n\tasync function verifyToken(token) {\n\t\tlet result = await axios(`auth/checktoken`);\n\t\treturn result.status === 200;\n\t}\n\n\tuseEffect(() => {\n\t\taxios(\"product?limit=100000\").then((result) =>\n\t\t\tsetAllProducts(result.data.data.products),\n\t\t);\n\t\taxios(\"setting\").then((result) => setSettings(result.data.data));\n\t}, []);\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<CartContext.Provider\n\t\t\t\tvalue={{\n\t\t\t\t\tcartItems,\n\t\t\t\t\tupdateCartItems,\n\t\t\t\t\tupdateQuantity,\n\t\t\t\t\tdeleteCartItem,\n\t\t\t\t\tdeleteAllCartItems,\n\t\t\t\t}}>\n\t\t\t\t<SettingContext.Provider value={settings}>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/dashboard\" component={Dashboard} />\n\t\t\t\t\t\t{/* <Route\n\t\t\t\t\t\t\tpath=\"/dashboard\"\n\t\t\t\t\t\t\trender={(props) => {\n\t\t\t\t\t\t\t\tlet token = localStorage.getItem(\"token\");\n\t\t\t\t\t\t\t\tif (token && verifyToken(token))\n\t\t\t\t\t\t\t\t\treturn <Dashboard {...props} />;\n\t\t\t\t\t\t\t\treturn <Redirect to=\"/login\" />;\n\t\t\t\t\t\t\t}}></Route> */}\n\t\t\t\t\t\t{/* <Route path=\"/login\" component={Login}></Route> */}\n\t\t\t\t\t\t<Route path=\"/logout\" component ={Login}/>\n\t\t\t\t\t\t<Route path=\"/home\" component={Home} />\n\t\t\t\t\t\t<Route path=\"/page-not-found\" component={NotFound} />\n\t\t\t\t\t\t<Redirect from=\"/\" to=\"dashboard\" />\n\t\t\t\t\t</Switch>\n\t\t\t\t</SettingContext.Provider>\n\t\t\t</CartContext.Provider>\n\t\t</div>\n\t);\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport \"bootstrap/dist/css/bootstrap.css\"\nimport \"@fortawesome/fontawesome-free/css/all.css\";\nimport \"./index.css\";\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode> \n  /* <h1>Hello   {2 + 5}</h1> */,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}