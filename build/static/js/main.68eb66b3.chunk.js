(this.webpackJsonpsummerreact=this.webpackJsonpsummerreact||[]).push([[0],{146:function(e,t,a){},214:function(e,t,a){},249:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(18),i=a.n(r),s=(a(146),a(20)),o=a.n(s),l=a(34),j=a(23),d=a(8),u=(a(214),a(19)),h=a(1);function b(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:" Home Page"})})}var m=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"Page not found"})})},O=a(418),p=a(5),x=a(419),f=a(183),g=a.n(f),v=a(447),y=a(446),N=a(451),C=a(12),S=a(10),w=a(417),k=a(445),_=a(413),P=a(409),T=a(411),E=a(197),A=a(13),D=a.n(A),I=a(14),R=a.n(I),U=a(15),B=a.n(U),W=Object(P.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3),padding:"20px"},submit:{margin:e.spacing(3,0,2)}}}));function F(e){var t=Object(c.useState)({}),a=Object(d.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(null),s=Object(d.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)("POST"),u=Object(d.a)(j,2),b=u[0],m=u[1],O=W();Object(c.useEffect)((function(){e.match.params.id&&B.a.get("".concat("https://cashie-backend.herokuapp.com/api/","setting/").concat(e.match.params._id)).then((function(e){"success"===e.data.status&&(r(e.data.data),m("PUT"))}))}),[]);var p={storename:D.a.string().required(),discount:D.a.number().required(),tax:D.a.number().required()};return console.log(o),console.log(n),Object(h.jsxs)(T.a,{children:[Object(h.jsx)("h4",{children:"Update Store Settings"}),Object(h.jsx)(E.a,{children:Object(h.jsx)("div",{className:O.paper,children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=D.a.validate(n,p,{abortEarly:!1});a.error?l(a.error.details):B()({method:b,url:"".concat("https://cashie-backend.herokuapp.com/api/").concat("PUT"===b?"setting/"+e.match.params.id:"setting"),data:n}).then((function(t){200===t.status?(l(null),R.a.fire("Setting ".concat("PUT"===b?"updated":"created"," successfully...")),e.history.goBack()):R.a.fire("Error","Somethings went wrong","error")})).catch((function(e){R.a.fire("Error","Somethings went wrong","error")}))},onChange:function(e){r(Object(S.a)(Object(S.a)({},n),{},Object(C.a)({},e.target.name,e.target.value)))},className:O.form,children:[Object(h.jsxs)(_.a,{container:!0,spacing:2,children:[Object(h.jsxs)(_.a,{item:!0,xs:12,children:[Object(h.jsx)("h6",{align:"left",children:"Store Name"}),Object(h.jsx)(k.a,{autoComplete:"name",name:"Storename",variant:"outlined",fullWidth:!0,id:"name",value:n&&n.name,autoFocus:!0}),o&&o.filter((function(e){return"name"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)("h6",{align:"left",children:"Discount"}),Object(h.jsx)(k.a,{variant:"outlined",fullWidth:!0,placeholder:"                                                                                                                %",id:"discount",name:"discount",autoComplete:"discount",value:n&&n.discount}),o&&o.filter((function(e){return"discount"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)("h6",{align:"left",children:"Tax "}),Object(h.jsx)(k.a,{variant:"outlined",fullWidth:!0,placeholder:"                                                                                                                   %",id:"lastName",name:"tax",autoComplete:"tax",value:n&&n.tax}),o&&o.filter((function(e){return"tax"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]})]}),Object(h.jsx)(w.a,{type:"submit",variant:"contained",size:"large",color:"primary",className:"c-btn mt-5",children:"POST"===b?"Submit":""})]})})})]})}var L=a(21),q=[{id:1,label:"Setting",classes:[],path:"/setting"},{id:2,label:"Account",classes:[],path:"/account"},{id:3,label:"Logout",classes:[],path:"/logout"}];function K(e){var t=Object(u.g)().pathname.split("/"),a=Object(c.useContext)(At).cartItems,r=n.a.useState(null),i=Object(d.a)(r,2),s=i[0],o=i[1],l=Boolean(s),j=l?"simple-popover":void 0,b=Object(p.a)((function(e){return{badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(O.a);return Object(h.jsxs)("header",{className:"m-navbar py-2 px-3",children:[Object(h.jsx)("ul",{className:"left-nav"}),Object(h.jsxs)("ul",{className:"right-nav",children:[Object(h.jsx)("li",{children:Object(h.jsx)(x.a,{"aria-label":"cart",children:Object(h.jsx)(b,{badgeContent:a.length,color:"secondary",children:Object(h.jsx)(g.a,{})})})}),Object(h.jsxs)("li",{children:[Object(h.jsx)(y.a,{onClick:function(e){o(e.currentTarget)},children:"User"}),Object(h.jsx)(v.a,{id:j,open:l,anchorEl:s,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(h.jsx)(N.a,{children:q.map((function(e){return Object(h.jsxs)(L.b,{to:"/dashboard".concat(e.path),className:"linkse",children:[Object(h.jsx)("div",{className:"navbar-links ".concat(t.includes(e.path)?"active":"")}),Object(h.jsxs)("div",{className:"navbar-links",children:[Object(h.jsx)("h4",{children:e.icon}),Object(h.jsx)("h5",{children:e.label})]})]},e.id)}))})})]})]})]})}var H=a(184),z=a.n(H),V=a(185),Q=a.n(V),Y=a(186),$=a.n(Y),M=a(96),G=a.n(M),J=a(187),Z=a.n(J),X=a(188),ee=a.n(X),te=[{id:1,label:"Dashboard",classes:[],icon:Object(h.jsx)(z.a,{}),path:"main"},{id:2,label:"Category",classes:[],icon:Object(h.jsx)(Q.a,{}),path:"categories"},{id:3,label:"Users",classes:[],icon:Object(h.jsx)($.a,{}),path:"users"},{id:4,label:"Products",classes:[],icon:Object(h.jsx)(G.a,{}),path:"products"},{id:5,label:"Transaction",classes:[],icon:Object(h.jsx)(Z.a,{}),path:"transactions"},{id:6,label:"Report",classes:[],icon:Object(h.jsx)(ee.a,{}),path:"report"}];var ae=function(){var e=Object(u.g)().pathname.split("/");return Object(h.jsx)("div",{className:"m-sidebar",children:te.map((function(t){return Object(h.jsx)(L.b,{to:"/dashboard/".concat(t.path),className:"links",children:Object(h.jsxs)("div",{className:"sidebar-links ".concat(e.includes(t.path)?"active":""),children:[Object(h.jsx)("h4",{children:t.icon}),Object(h.jsx)("h5",{children:t.label})]})},t.id)}))})},ce=(a(249),a(45)),ne=a.n(ce),re=a(416),ie=a(449),se=a(420),oe=a(450),le=a(441),je=a(452),de=a(426),ue=a(421),he=a(425),be=a(424),me=a(422),Oe=a(423),pe=a(30),xe=a.n(pe),fe=a(80),ge=a.n(fe),ve=a(79),ye=a.n(ve),Ne=a(78),Ce=a.n(Ne),Se=Object(P.a)({table:{minWidth:650}});var we=function(e){var t=Se(),a=Object(c.useState)(null),n=Object(d.a)(a,2),r=(n[0],n[1]),i=Object(c.useState)(null),s=Object(d.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)(!1),u=Object(d.a)(j,2),b=u[0],m=u[1],O=Object(c.useState)({limit:100}),p=Object(d.a)(O,2),x=p[0],f=p[1];return Object(c.useEffect)((function(){B()({url:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/reactproject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_API_URL:"https://cashie-backend.herokuapp.com/api/"}).REACT_APP_BACKEND_API,"product?").concat(ne.a.stringify(x)),headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"===e.data.status&&l(e.data.data.products)}))}),[b,x]),console.log(o),Object(h.jsx)("div",{children:Object(h.jsxs)(T.a,{children:[Object(h.jsx)(_.a,{container:!0,children:Object(h.jsx)(L.b,{to:"".concat(e.match.path,"/new"),children:Object(h.jsx)(w.a,{variant:"contained",color:"secondary",children:"+ New Product"})})}),Object(h.jsx)(_.a,{container:!0,justifyContent:"flex-end",children:Object(h.jsxs)("form",{onChange:function(e){r(null),f(Object(S.a)(Object(S.a)({},x),{},Object(C.a)({},e.target.name,e.target.value)))},children:[Object(h.jsx)(re.a,{variant:"outlined",children:Object(h.jsx)(ie.a,{id:"outlined-adornment-password",name:"keyword",placeholder:"Search products...",endAdornment:Object(h.jsx)(se.a,{position:"end",children:Object(h.jsx)(Ce.a,{})}),labelWidth:70})}),Object(h.jsxs)(re.a,{variant:"outlined",className:t.formControl,children:[Object(h.jsx)(oe.a,{htmlFor:"outlined-age-native-simple",children:"Sort By"}),Object(h.jsxs)(le.a,{native:!0,value:"",inputProps:{name:"sort",id:"outlined-age-native-simple"},children:[Object(h.jsx)("option",{"aria-label":"None",value:""}),Object(h.jsx)("option",{value:"Newest",children:"Newest"}),Object(h.jsx)("option",{value:"Oldest",children:"Oldest"}),Object(h.jsx)("option",{value:"Highest to Lowest",children:"Highest to Lowest"}),Object(h.jsx)("option",{value:"Lowest to Highest",children:"Lowest to Highest"}),Object(h.jsx)("option",{value:"Name",children:"Name"})]})]})]})}),Object(h.jsx)(_.a,{container:!0,children:Object(h.jsx)(_.a,{item:!0,xs:12,children:Object(h.jsx)(E.a,{children:Object(h.jsxs)(ue.a,{className:t.table,"aria-label":"simple table",children:[Object(h.jsx)(me.a,{children:Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Image"}),Object(h.jsx)(be.a,{align:"right",children:"Name"}),Object(h.jsx)(be.a,{align:"right",children:"Price"}),Object(h.jsx)(be.a,{align:"right",children:"Category"}),Object(h.jsx)(be.a,{align:"right",children:"Actions"})]})}),Object(h.jsx)(he.a,{children:o?o.map((function(t){return Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{component:"th",scope:"row",children:Object(h.jsx)("img",{style:{width:"75px"},src:t.image,alt:""})}),Object(h.jsx)(be.a,{align:"right",children:t.name}),Object(h.jsx)(be.a,{align:"right",children:t.price}),Object(h.jsx)(be.a,{align:"right",children:Object(h.jsx)(je.a,{variant:"contained",color:"secondary",label:t.category[0].name})}),Object(h.jsxs)(be.a,{align:"right",children:[Object(h.jsx)(L.b,{to:"".concat(e.match.path,"/update/").concat(t._id),children:Object(h.jsx)(ye.a,{})}),Object(h.jsx)(ge.a,{onClick:function(){return e=t._id,void R.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete"}).then((function(t){t.isConfirmed&&B.a.delete("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/reactproject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_API_URL:"https://cashie-backend.herokuapp.com/api/"}).REACT_APP_BACKEND_API,"product/").concat(e),{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){"success"===e.data.status?(R.a.fire("Deleted!","User has been deleted..","success"),m(!b)):R.a.fire("Opps!","Somthing went wrong..","error")})).catch((function(e){R.a.fire("Opps!","Somthing went wrong..","error")}))}));var e}})]})]},t._id)})):Object(h.jsx)(_.a,{container:!0,style:{width:"100%"},justifyContent:"center",children:Object(h.jsx)(de.a,{style:{height:"20px",width:"100%"}})})})]})})})})]})})},ke=a(439),_e=Object(P.a)({table:{},firstRow:{margin:"20px 0px"}});var Pe=function(e){var t=_e(),a=Object(c.useState)({limit:100}),n=Object(d.a)(a,2),r=n[0],i=n[1],s=Object(c.useState)(null),o=Object(d.a)(s,2),l=o[0],j=o[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),m=b[0],O=b[1];return Object(c.useEffect)((function(){var e="".concat("https://cashie-backend.herokuapp.com/api/","category?").concat(ne.a.stringify(r));B()({url:e,headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return j(e.data.data.categories)}))}),[m,r]),console.log(r),console.log(l),Object(h.jsx)("div",{children:Object(h.jsxs)(T.a,{children:[Object(h.jsx)("h2",{children:"Category"}),Object(h.jsx)(_.a,{container:!0,justifyContent:"flex-end",className:t.firstRow,children:Object(h.jsx)(L.b,{to:"".concat(e.match.path,"/new"),className:"li",children:Object(h.jsx)(w.a,{variant:"contained",color:"secondary",children:"New Data"})})}),Object(h.jsx)(_.a,{container:!0,justifyContent:"flex-end",className:"my-3",children:Object(h.jsxs)("form",{onChange:function(e){j(null),i(Object(S.a)(Object(S.a)({},r),{},Object(C.a)({},e.target.name,e.target.value)))},children:[Object(h.jsx)(k.a,{placeholder:"Search...",id:"outlined-start-adornment",className:"",name:"keyword",InputProps:{startAdornment:Object(h.jsx)(se.a,{position:"start",children:Object(h.jsx)(Ce.a,{})})},variant:"outlined"}),Object(h.jsx)(re.a,{variant:"outlined",children:Object(h.jsxs)(le.a,{native:!0,placeholder:"Role",inputProps:{name:"sort",id:"outlined-age-native-simple",shrink:!1},children:[Object(h.jsx)("option",{"aria-label":"None",value:""}),Object(h.jsx)("option",{value:"Newest",children:"Newest"}),Object(h.jsx)("option",{value:"Oldest",children:"Oldest"}),Object(h.jsx)("option",{value:"Name",children:"Name"}),Object(h.jsx)("option",{value:"Last Active",children:"Last Active"})]})})]})}),Object(h.jsx)(_.a,{container:!0,children:Object(h.jsx)(_.a,{item:!0,xs:12,children:Object(h.jsx)(E.a,{children:Object(h.jsxs)(ue.a,{className:t.table,"aria-label":"simple table",children:[Object(h.jsx)(me.a,{children:Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Category Name"}),Object(h.jsx)(be.a,{align:"right",children:"Actions"})]})}),Object(h.jsx)(he.a,{children:l?l.map((function(t){return Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{component:"th",scope:"user",children:t.name}),Object(h.jsxs)(be.a,{align:"right",children:[Object(h.jsx)(L.b,{to:"".concat(e.match.path,"/update/").concat(t._id),children:Object(h.jsx)(ye.a,{})}),Object(h.jsx)(ge.a,{onClick:function(){return e=t._id,void R.a.fire({title:"Are you sure?",text:"This category will be deleted!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete"}).then((function(t){t.isConfirmed&&B.a.delete("".concat("https://cashie-backend.herokuapp.com/api/","category/").concat(e)).then((function(e){"success"===e.data.status&&(R.a.fire("Deleted!","User deleted successfully...","success"),O(!m))})).catch((function(e){R.a.fire("Deleted!","Something went wrong...","error")}))}));var e}})]})]},t._id)})):Object(h.jsx)(ke.a,{item:!0,sm:6,style:{width:"100%"},children:Object(h.jsx)(de.a,{})})})]})})})})]})})},Te=a(97),Ee=a.n(Te),Ae=Object(P.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3),padding:"20px"},submit:{margin:e.spacing(3,0,2)}}}));function De(e){var t=Object(c.useState)({}),a=Object(d.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(null),s=Object(d.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)("POST"),u=Object(d.a)(j,2),b=u[0],m=u[1],O=Object(c.useState)(null),p=Object(d.a)(O,2),x=(p[0],p[1]),f=Ae();Object(c.useEffect)((function(){e.match.params.id&&B.a.get("".concat("https://cashie-backend.herokuapp.com/api/","category/").concat(e.match.params.id)).then((function(e){if("success"===e.data.status){var t=e.data.data.category;r(Object(S.a)(Object(S.a)({},n),{},{category:t})),m("PUT")}}))}),[]),Object(c.useEffect)((function(){B()("".concat("https://cashie-backend.herokuapp.com/api/","category")).then((function(e){return x(e.data.data.categories)}))}),[]);var g={category:D.a.string().required().min(7).max(30)};return Object(h.jsxs)(T.a,{children:[Object(h.jsx)(_.a,{container:!0,className:"mt-5",children:Object(h.jsxs)(w.a,{onClick:function(){return e.history.goBack()},variant:"default",children:[Object(h.jsx)(Ee.a,{})," Back"]})}),Object(h.jsx)(E.a,{children:Object(h.jsx)("div",{className:f.paper,children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=D.a.validate(n,g,{abortEarly:!1});if(a.error)l(a.error.details);else{var c=new FormData;for(var r in n)c.append(r,n[r]);B()({method:b,url:"".concat("https://cashie-backend.herokuapp.com/api/").concat("PUT"===b?"category/"+e.match.params.id:"category"),data:c,headers:{"Content-type":"multipart/formData"}}).then((function(t){200===t.status?(l(null),R.a.fire("Category ".concat("PUT"===b?"updated":"created"," successfully...")),e.history.goBack()):R.a.fire("Error","Somethings went wrong","error")})).catch((function(e){R.a.fire("Error","Somethings went wrong","error")}))}},onChange:function(e){r(Object(S.a)(Object(S.a)({},n),{},Object(C.a)({},e.target.name,e.target.value)))},className:f.form,children:[Object(h.jsx)(_.a,{container:!0,spacing:2,children:Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{name:"category",variant:"outlined",fullWidth:!0,id:"category",placeholder:"Category Name",value:n&&n.category,autoFocus:!0}),o&&o.filter((function(e){return"category"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]})}),Object(h.jsx)(w.a,{type:"submit",variant:"contained",size:"large",color:"primary",className:"c-btn mt-5",children:"POST"===b?"Create Category":"Update Category"})]})})})]})}var Ie=a(195),Re=a(142),Ue=a(431),Be=a(440),We=a(432),Fe=B.a.create({baseURL:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/reactproject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_API_URL:"https://cashie-backend.herokuapp.com/api/"}).REACT_APP_BACKEND_API),headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}),Le=a(433),qe=a(434),Ke=a(437),He=a(436),ze=a(435),Ve=a(189),Qe=a.n(Ve),Ye=a(191),$e=a.n(Ye),Me=a(190),Ge=a.n(Me),Je=a(140),Ze=a.n(Je),Xe=a(444),et=a(430),tt=a(428),at=a(429),ct=a(427);function nt(e){var t=e.isOpen,a=(e.onOpen,e.onClose),c=e.transactionData;return Object(h.jsx)("div",{children:Object(h.jsxs)(Xe.a,{style:{padding:"20px"},open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(h.jsxs)(ct.a,{id:"alert-dialog-title",children:[Object(h.jsx)(Re.a,{align:"center",className:"text-muted",variant:"h4",component:"h3",gutterBottom:!0,children:"Receipt"}),Object(h.jsx)(Re.a,{variant:"caption",display:"block",align:"center",gutterBottom:!0,children:xe()(c&&c.createdAt).format("llll")}),Object(h.jsx)(Re.a,{variant:"caption",display:"block",align:"center",gutterBottom:!0,children:c&&c._id})]}),Object(h.jsx)(tt.a,{children:Object(h.jsxs)(at.a,{id:"alert-dialog-description",children:[Object(h.jsxs)(ue.a,{"aria-label":"simple table",children:[Object(h.jsx)(me.a,{children:Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{align:"left",children:"Product"}),Object(h.jsx)(be.a,{align:"center",children:"Quantity"}),Object(h.jsx)(be.a,{align:"center",children:"Unit Price"}),Object(h.jsx)(be.a,{align:"right",children:"Total"})]})}),Object(h.jsx)(he.a,{children:c&&c.products.map((function(e){return Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{align:"left",children:e.name}),Object(h.jsx)(be.a,{align:"center",children:e.qty}),Object(h.jsx)(be.a,{align:"center",children:e.price}),Object(h.jsxs)(be.a,{align:"right",children:["$",(e.qty*e.price).toFixed(2)]})]},e._id)}))})]}),Object(h.jsxs)(ue.a,{children:[Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Sub Total"}),Object(h.jsx)(be.a,{align:"right",children:c&&c.subtotal.toFixed(2)})]}),Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Discount"}),Object(h.jsx)(be.a,{align:"right",children:c&&c.discount.toFixed(2)})]}),Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Grand Total"}),Object(h.jsx)(be.a,{align:"right",children:c&&c.grandtotal.toFixed(2)})]})]})]})}),Object(h.jsx)(et.a,{children:Object(h.jsx)(w.a,{variant:"default",fullWidth:!0,className:"c-btn",children:"PRINT RECEIPT"})})]})})}var rt=["children","value","index"];function it(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}function st(e){var t=e.children,a=e.value,c=e.index,n=Object(Ie.a)(e,rt);return Object(h.jsx)("div",Object(S.a)(Object(S.a)({role:"tabpanel",hidden:a!==c,id:"scrollable-auto-tabpanel-".concat(c),"aria-labelledby":"scrollable-auto-tab-".concat(c)},n),{},{children:a===c&&Object(h.jsx)(ke.a,{p:3,children:Object(h.jsx)(Re.a,{children:t})})}))}var ot=Object(P.a)((function(e){return{root:{flexGrow:1,padding:"10px",width:"100%",backgroundColor:e.palette.background.paper},cardWrapper:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"},productCard:{width:"30%",marginTop:"15px",position:"relative"},productsWrapper:{height:"85vh",overflowY:"auto",padding:"10px"},tableOne:{height:"60vh",overflowY:"auto"},recieptModal:{position:"fixed",width:"40%",heigh:"60vh",backgroundColor:"white"}}}));var lt=function(){var e=Object(c.useContext)(At),t=Object(c.useContext)(Dt),a=ot(),n=Object(c.useState)(0),r=Object(d.a)(n,2),i=r[0],s=r[1],j=Object(c.useState)(null),u=Object(d.a)(j,2),b=u[0],m=u[1],O=Object(c.useState)(null),p=Object(d.a)(O,2),x=p[0],f=p[1],g=Object(c.useState)(!1),v=Object(d.a)(g,2),y=v[0],N=v[1],C=Object(c.useState)(null),k=Object(d.a)(C,2),P=k[0],A=k[1],D=e.cartItems.length&&e.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0),I=t?+t.discount/100*D:0,R=t?+t.tax/100*D:0,U=D+R-I;function B(){return(B=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe("product/transaction");case 2:t=e.sent,m(t.data.data.all),f(t.data.data.categories);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(){var t=Object(l.a)(o.a.mark((function t(){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===(a=e.cartItems).length){t.next=6;break}return t.next=4,Fe.post("transaction",{items:a,subtotal:D,grandtotal:U,discount:I});case 4:"success"===(c=t.sent).data.status&&(e.deleteAllCartItems(),N(!0),A(c.data.data));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log(P),Object(c.useEffect)((function(){!function(){B.apply(this,arguments)}()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Transactions"}),Object(h.jsx)(T.a,{children:Object(h.jsxs)(_.a,{container:!0,children:[Object(h.jsx)(_.a,{item:!0,sm:8,className:a.productsWrapper,children:Object(h.jsxs)(E.a,{children:[Object(h.jsx)(Ue.a,{position:"static",color:"default",children:Object(h.jsxs)(Be.a,{value:i,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:[Object(h.jsx)(We.a,Object(S.a)({label:"All"},it(0))),x&&x.map((function(e,t){return Object(h.jsx)(We.a,Object(S.a)({label:e.name},it(t+1)))}))]})}),Object(h.jsx)(st,{value:i,index:0,children:Object(h.jsx)("div",{className:a.cardWrapper,children:b&&b.map((function(t){return Object(h.jsxs)(Le.a,{onClick:function(){return e.updateCartItems(t._id)},className:a.productCard,children:[Object(h.jsx)("div",{className:"m-overlay ".concat(e.cartItems.find((function(e){return e._id===t._id}))?"active":"")}),Object(h.jsx)(Ze.a,{className:"m-selected ".concat(e.cartItems.find((function(e){return e._id===t._id}))?"active":"")}),Object(h.jsxs)(qe.a,{children:[Object(h.jsx)(ze.a,{component:"img",alt:t.description,height:"140",image:t.image}),Object(h.jsxs)(He.a,{children:[Object(h.jsx)(Re.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(h.jsx)(Re.a,{variant:"body2",color:"textSecondary",component:"p",children:t.description})]})]}),Object(h.jsx)(Ke.a,{children:Object(h.jsxs)(Re.a,{gutterBottom:!0,variant:"h5",component:"h5",children:["$ \xa0",t.price]})})]})}))})}),x&&x.map((function(t,c){return Object(h.jsx)(st,{value:i,index:c,children:Object(h.jsx)("div",{className:a.cardWrapper,children:t.items.map((function(t){return Object(h.jsxs)(Le.a,{onClick:function(){return e.updateCartItems(t._id)},className:a.productCard,children:[Object(h.jsx)("div",{className:"m-overlay ".concat(e.cartItems.find((function(e){return e._id===t._id}))?"active":"")}),Object(h.jsx)(Ze.a,{className:"m-selected ".concat(e.cartItems.find((function(e){return e._id===t._id}))?"active":"")}),Object(h.jsxs)(qe.a,{children:[Object(h.jsx)(ze.a,{component:"img",alt:t.description,height:"140",image:t.image}),Object(h.jsxs)(He.a,{children:[Object(h.jsx)(Re.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(h.jsx)(Re.a,{variant:"body2",color:"textSecondary",component:"p",children:t.description})]})]}),Object(h.jsx)(Ke.a,{children:Object(h.jsxs)(Re.a,{gutterBottom:!0,variant:"h5",component:"h5",children:["$ \xa0",t.price]})})]})}))})})}))]})}),Object(h.jsx)(_.a,{item:!0,sm:4,xs:12,children:Object(h.jsxs)(E.a,{children:[Object(h.jsx)("div",{style:{height:"50vh",overflowY:"auto"},className:"tableOne",children:Object(h.jsxs)(ue.a,{"aria-label":"simple table",children:[Object(h.jsx)(me.a,{children:Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{align:"left",children:"Product"}),Object(h.jsx)(be.a,{align:"center",children:"Quantity"}),Object(h.jsx)(be.a,{align:"right",children:"Total"})]})}),Object(h.jsx)(he.a,{children:e.cartItems.length&&e.cartItems.map((function(t){return Object(h.jsxs)(Oe.a,{children:[Object(h.jsxs)(be.a,{align:"left",children:[Object(h.jsx)(Qe.a,{onClick:function(){return e.deleteCartItem(t._id)},color:"",size:"small"}),"\xa0",t.name," ",t.price]}),Object(h.jsxs)(be.a,{align:"center",children:[Object(h.jsx)(Ge.a,{color:"secondary",onClick:function(){return e.updateQuantity(t._id,"decrement")}}),t.qty,Object(h.jsx)($e.a,{color:"secondary",onClick:function(){return e.updateQuantity(t._id,"increment")}})]}),Object(h.jsxs)(be.a,{align:"right",children:["$",(t.qty*t.price).toFixed(2)]})]},t._id)}))})]})}),Object(h.jsxs)(ue.a,{children:[Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Sub Total"}),Object(h.jsx)(be.a,{align:"right",children:D.toFixed(2)})]}),Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Discount"}),Object(h.jsx)(be.a,{align:"right",children:I.toFixed(2)})]}),Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Tax"}),Object(h.jsx)(be.a,{align:"right",children:R.toFixed(2)})]}),Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Grand Total"}),Object(h.jsx)(be.a,{align:"right",children:U.toFixed(2)})]}),Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{align:"left",children:Object(h.jsx)(w.a,{variant:"contained",color:"default",disabled:0===e.cartItems.length,children:"Cancel"})}),Object(h.jsx)(be.a,{align:"right",children:Object(h.jsx)(w.a,{disabled:0===e.cartItems.length,variant:"contained",color:"default",size:"large",className:"c-btn",onClick:W,children:"Pay"})})]})]})]})})]})}),Object(h.jsx)(nt,{isOpen:y,onClose:function(){N(!1)},onOpen:function(){N(!0)},transactionData:P})]})},jt=a(194),dt=Object(P.a)({table:{},chart:{height:"700px"},mCard:{height:"100px",borderRadius:"20px",padding:"10px"},cardRed:{background:"linear-gradient(16deg, rgba(234,81,121,1) 0%, rgba(172,54,115,1) 100%)"}}),ut={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};var ht=function(){var e=dt(),t=Object(c.useState)({start:xe()().startOf("week").format("llll"),end:xe()().endOf("week").format("llll"),limit:7}),a=Object(d.a)(t,2),n=a[0],r=(a[1],Object(c.useState)(null)),i=Object(d.a)(r,2),s=i[0],j=i[1],u=Object(c.useState)(null),b=Object(d.a)(u,2),m=b[0],O=b[1],p=ne.a.stringify(n),x=[];if(s)for(var f=function(e){var t=s.data.items.findIndex((function(t){return t._id==e}));-1===t?x.push(0):x.push(s.data.items[t].grandtotal)},g=1;g<=7;g++)f(g);var v={labels:["Sun","Mon","Tue","Wed","Thr","Fri","Sat"],datasets:[{label:"# of Votes",data:x,fill:!1,backgroundColor:["rgb(30,144,255)","rgb(0,0,128) ","rgb(70,130,180) ","rgb(0,0,255) ","rgb(123,104,238) ","rgb(0,206,209)","rgb(135,206,235)"],borderColor:"rgba(255, 99, 132, 0.2)"}]};return Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://cashie-backend.herokuapp.com/api/","transaction/dashboard?").concat(p));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,j(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B()("".concat("https://cashie-backend.herokuapp.com/api/","transaction?").concat(p));case 2:t=e.sent,O(t.data.data.transactions);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(m),Object(h.jsx)("div",{children:Object(h.jsxs)(T.a,{children:[Object(h.jsx)("h2",{children:"Dashboard"}),Object(h.jsxs)(_.a,{container:!0,children:[Object(h.jsx)(_.a,{items:!0,xs:12,lg:4,children:Object(h.jsxs)(E.a,{className:"d-cards d-card-maroon",children:[Object(h.jsx)("h2",{children:"Transactions"}),Object(h.jsx)("h2",{children:s&&s.data.count})]})}),Object(h.jsx)(_.a,{items:!0,xs:12,lg:4,children:Object(h.jsxs)(E.a,{className:"d-cards d-card-indigo",children:[Object(h.jsx)("h2",{children:"Products"}),Object(h.jsx)("h2",{children:s&&s.data.qty})]})}),Object(h.jsx)(_.a,{items:!0,xs:12,lg:4,children:Object(h.jsxs)(E.a,{className:"d-cards d-card-orange",children:[Object(h.jsx)("h2",{children:"Income"}),Object(h.jsxs)("h2",{children:["$",Math.round(s&&s.data.total,2)]})]})})]}),Object(h.jsxs)(_.a,{container:!0,spacing:4,children:[Object(h.jsx)(_.a,{item:!0,lg:6,sm:12,children:Object(h.jsx)(E.a,{children:Object(h.jsx)(jt.a,{className:e.chart,data:v,options:ut})})}),Object(h.jsx)(_.a,{item:!0,lg:6,sm:12,children:Object(h.jsx)(E.a,{children:Object(h.jsxs)(ue.a,{className:e.table,"aria-label":"simple table",children:[Object(h.jsx)(me.a,{children:Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Reciept no"}),Object(h.jsx)(be.a,{align:"right",children:"Date"}),Object(h.jsx)(be.a,{align:"right",children:"Quantity"}),Object(h.jsx)(be.a,{align:"right",children:"Total"})]})}),Object(h.jsx)(he.a,{children:m&&m.map((function(e){return Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{component:"th",scope:"row",children:e._id}),Object(h.jsx)(be.a,{align:"right",children:xe()(e._createdAt).format("llll")}),Object(h.jsx)(be.a,{align:"right",children:e.items.length}),Object(h.jsx)(be.a,{align:"right",children:e.grandtotal})]},e._id)}))})]})})})]})]})})},bt=Object(P.a)({table:{minWidth:650}});var mt=function(e){var t=bt(),a=Object(c.useState)(null),n=Object(d.a)(a,2),r=n[0],i=n[1],s=Object(c.useState)(!1),o=Object(d.a)(s,2),l=o[0],j=o[1],u=Object(c.useState)({limit:100}),b=Object(d.a)(u,2),m=b[0],O=b[1];return Object(c.useEffect)((function(){B()("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/reactproject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_API_URL:"https://cashie-backend.herokuapp.com/api/"}).REACT_APP_BACKEND_API,"user?").concat(ne.a.stringify(m))).then((function(e){"success"===e.data.status&&i(e.data.data.users)}))}),[l,m]),console.log(m),Object(h.jsx)("div",{children:Object(h.jsxs)(T.a,{children:[Object(h.jsx)(_.a,{container:!0,children:Object(h.jsx)(L.b,{to:"".concat(e.match.path,"/new"),children:Object(h.jsx)(w.a,{variant:"contained",color:"secondary",children:"+ New User"})})}),Object(h.jsx)(_.a,{container:!0,justifyContent:"flex-end",children:Object(h.jsxs)("form",{onChange:function(e){i(null),O(Object(S.a)(Object(S.a)({},m),{},Object(C.a)({},e.target.name,e.target.value)))},children:[Object(h.jsx)(re.a,{variant:"outlined",children:Object(h.jsx)(ie.a,{id:"outlined-adornment-password",name:"keyword",placeholder:"Search users...",endAdornment:Object(h.jsx)(se.a,{position:"end",children:Object(h.jsx)(Ce.a,{})}),labelWidth:70})}),Object(h.jsxs)(re.a,{variant:"outlined",className:t.formControl,children:[Object(h.jsx)(oe.a,{htmlFor:"outlined-age-native-simple",children:"Role"}),Object(h.jsxs)(le.a,{native:!0,value:"",inputProps:{name:"role",id:"outlined-age-native-simple"},children:[Object(h.jsx)("option",{"aria-label":"None",value:""}),Object(h.jsx)("option",{value:"all",children:"All"}),Object(h.jsx)("option",{value:"Admin",children:"Admin"}),Object(h.jsx)("option",{value:"Cashier",children:"Cashier"})]})]}),Object(h.jsxs)(re.a,{variant:"outlined",className:t.formControl,children:[Object(h.jsx)(oe.a,{htmlFor:"outlined-age-native-simple",children:"Sort By"}),Object(h.jsxs)(le.a,{native:!0,value:"",inputProps:{name:"sort",id:"outlined-age-native-simple"},children:[Object(h.jsx)("option",{"aria-label":"None",value:""}),Object(h.jsx)("option",{value:"Newest",children:"Newest"}),Object(h.jsx)("option",{value:"Oldest",children:"Oldest"}),Object(h.jsx)("option",{value:"Name",children:"Name"}),Object(h.jsx)("option",{value:"Last Active",children:"Last Active"})]})]})]})}),Object(h.jsx)(_.a,{container:!0,children:Object(h.jsx)(_.a,{item:!0,xs:12,children:Object(h.jsx)(E.a,{children:Object(h.jsxs)(ue.a,{className:t.table,"aria-label":"simple table",children:[Object(h.jsx)(me.a,{children:Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Full Name"}),Object(h.jsx)(be.a,{align:"right",children:"User Name"}),Object(h.jsx)(be.a,{align:"right",children:"Role"}),Object(h.jsx)(be.a,{align:"right",children:"Last Active"}),Object(h.jsx)(be.a,{align:"right",children:"Actions"})]})}),Object(h.jsx)(he.a,{children:r?r.map((function(t){return Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{component:"th",scope:"row",children:t.fullname}),Object(h.jsx)(be.a,{align:"right",children:t.username}),Object(h.jsx)(be.a,{align:"right",children:Object(h.jsx)(je.a,{variant:"outlined",color:"secondary",label:t.role})}),Object(h.jsx)(be.a,{align:"right",children:xe()(t.lastActive).format("llll")}),Object(h.jsxs)(be.a,{align:"right",children:[Object(h.jsx)(L.b,{to:"".concat(e.match.path,"/update/").concat(t._id),children:Object(h.jsx)(ye.a,{})}),Object(h.jsx)(ge.a,{onClick:function(){return e=t._id,void R.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Delete"}).then((function(t){t.isConfirmed&&B.a.delete("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/reactproject",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_API_URL:"https://cashie-backend.herokuapp.com/api/"}).REACT_APP_BACKEND_API,"user/").concat(e)).then((function(e){R.a.fire("Deleted!","User has been deleted..","success"),j(!l)})).catch((function(e){R.a.fire("Opps!","Somthing went wrong..","error")}))}));var e}})]})]},t._id)})):Object(h.jsx)(_.a,{container:!0,style:{width:"100%"},justifyContent:"center",children:Object(h.jsx)(de.a,{style:{height:"20px",width:"100%"}})})})]})})})})]})})},Ot=Object(P.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3),padding:"20px"},submit:{margin:e.spacing(3,0,2)}}}));function pt(e){var t=Object(c.useState)({}),a=Object(d.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(null),s=Object(d.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)("POST"),u=Object(d.a)(j,2),b=u[0],m=u[1],O=Ot();Object(c.useEffect)((function(){e.match.params.id&&B.a.get("".concat("https://cashie-backend.herokuapp.com/api/","user/").concat(e.match.params.id)).then((function(e){"success"===e.data.status&&(r(e.data.data),m("PUT"))}))}),[]);var p={fullname:D.a.string().required().min(7).max(30),username:D.a.string().required().min(7).max(30),email:D.a.string().email().required().min(7).max(30),password:D.a.string().required().min(7).max(30),role:D.a.string().required()};return console.log(o),console.log(n),Object(h.jsx)(T.a,{children:Object(h.jsx)(E.a,{children:Object(h.jsx)("div",{className:O.paper,children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=D.a.validate(n,p,{abortEarly:!1});a.error?l(a.error.details):B()({method:b,url:"".concat("https://cashie-backend.herokuapp.com/api/").concat("PUT"===b?"user/"+e.match.params.id:"user"),data:n}).then((function(t){200===t.status?(l(null),R.a.fire("User ".concat("PUT"===b?"updated":"created"," successfully...")),e.history.goBack()):R.a.fire("Error","Somethings went wrong","error")})).catch((function(e){R.a.fire("Error","Somethings went wrong","error")}))},onChange:function(e){r(Object(S.a)(Object(S.a)({},n),{},Object(C.a)({},e.target.name,e.target.value)))},className:O.form,children:[Object(h.jsxs)(_.a,{container:!0,spacing:2,children:[Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{autoComplete:"fname",name:"fullname",variant:"outlined",fullWidth:!0,id:"firstName",placeholder:"Full Name",value:n&&n.fullname,autoFocus:!0}),o&&o.filter((function(e){return"fullname"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{variant:"outlined",fullWidth:!0,id:"lastName",placeholder:"User name",name:"username",autoComplete:"lname",value:n&&n.username}),o&&o.filter((function(e){return"username"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{autoComplete:"fname",name:"email",variant:"outlined",fullWidth:!0,id:"firstName",placeholder:"Email",autoFocus:!0,value:n&&n.email}),o&&o.filter((function(e){return"email"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{autoComplete:"fname",name:"password",variant:"outlined",fullWidth:!0,id:"firstName",placeholder:"Password",type:"password",value:n&&n.password}),o&&o.filter((function(e){return"password"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]})]}),Object(h.jsx)(_.a,{item:!0,xs:12,sm:6,children:Object(h.jsxs)(re.a,{variant:"outlined",fullWidth:!0,className:"mt-3",children:[Object(h.jsxs)(le.a,{native:!0,placeholder:"Role",inputProps:{name:"role",id:"outlined-age-native-simple",shrink:!1},children:[Object(h.jsx)("option",{"aria-label":"None",value:""}),Object(h.jsx)("option",{selected:"admin"===n.role,value:"admin",children:"Admin"}),Object(h.jsx)("option",{selected:"cashier"===n.role,value:"cashier",children:"Cashier"})]}),o&&o.filter((function(e){return"role"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]})}),Object(h.jsx)(w.a,{type:"submit",variant:"contained",size:"large",color:"primary",className:"c-btn mt-5",children:"POST"===b?"Create User":"Update User"})]})})})})}var xt=a(137),ft=a.n(xt),gt=Object(P.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3),padding:"20px"},submit:{margin:e.spacing(3,0,2)}}}));function vt(e){var t=Object(c.useState)({}),a=Object(d.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(null),s=Object(d.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)("POST"),u=Object(d.a)(j,2),b=u[0],m=u[1],O=Object(c.useState)(null),p=Object(d.a)(O,2),x=p[0],f=p[1],g=Object(c.useState)(null),v=Object(d.a)(g,2),y=v[0],N=v[1],P=gt();Object(c.useEffect)((function(){e.match.params.id&&B.a.get("".concat("https://cashie-backend.herokuapp.com/api/","product/").concat(e.match.params.id)).then((function(e){if("success"===e.data.status){var t=e.data.data,a=t.name,c=t.price,i=t.description,s=t.image;r(Object(S.a)(Object(S.a)({},n),{},{name:a,price:c,description:i,image:s})),m("PUT")}}))}),[]),Object(c.useEffect)((function(){B()("".concat("https://cashie-backend.herokuapp.com/api/","category")).then((function(e){return f(e.data.data.categories)}))}),[]);var A={name:D.a.string().required().min(3).max(50),price:D.a.number().required().max(1e12),description:D.a.string().required().min(7).max(500),category:D.a.string().required().min(7).max(30),location:D.a.string(),_id:D.a.string(),image:D.a.string()};return console.log(o),Object(h.jsxs)(T.a,{children:[Object(h.jsx)(_.a,{container:!0,className:"mt-5",children:Object(h.jsxs)(w.a,{onClick:function(){return e.history.goBack()},variant:"default",children:[Object(h.jsx)(Ee.a,{})," Back"]})}),Object(h.jsx)(E.a,{children:Object(h.jsx)("div",{className:P.paper,children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=D.a.validate(n,A,{abortEarly:!1});if(a.error)l(a.error.details);else{var c=new FormData;for(var r in n)c.append(r,n[r]);y&&c.append("image",y),B()({method:b,url:"".concat("https://cashie-backend.herokuapp.com/api/").concat("PUT"===b?"product/"+e.match.params.id:"product"),data:c,headers:{"Content-type":"multipart/formData"}}).then((function(t){200===t.status?(l(null),R.a.fire("Product ".concat("PUT"===b?"updated":"created"," successfully...")),e.history.goBack()):R.a.fire("Error","Somethings went wrong","error")})).catch((function(e){R.a.fire("Error","Somethings went wrong","error")}))}},onChange:function(e){r(Object(S.a)(Object(S.a)({},n),{},Object(C.a)({},e.target.name,e.target.value)))},className:P.form,children:[Object(h.jsxs)(_.a,{container:!0,spacing:2,children:[Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{name:"name",variant:"outlined",fullWidth:!0,id:"firstName",placeholder:"Product Name",value:n&&n.name,autoFocus:!0}),o&&o.filter((function(e){return"name"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{variant:"outlined",fullWidth:!0,type:"number",placeholder:"Price",name:"price",value:n&&n.price}),o&&o.filter((function(e){return"price"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,children:[Object(h.jsx)(k.a,{autoComplete:"fname",name:"description",variant:"outlined",fullWidth:!0,multiline:!0,rows:3,id:"firstName",placeholder:"Product description",autoFocus:!0,value:n&&n.description}),o&&o.filter((function(e){return"description"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]})]}),Object(h.jsx)(_.a,{item:!0,xs:12,children:Object(h.jsxs)(re.a,{variant:"outlined",fullWidth:!0,className:"mt-3",children:[Object(h.jsxs)(le.a,{native:!0,placeholder:"Category",inputProps:{name:"category",id:"outlined-age-native-simple",shrink:!1},children:[Object(h.jsx)("option",{"aria-label":"None",value:""}),x&&x.map((function(e){return Object(h.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),o&&o.filter((function(e){return"category"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]})}),Object(h.jsxs)(_.a,{container:!0,justifyContent:"flex-start",className:"my-3",children:[Object(h.jsx)("label",{htmlFor:"icon-button-file",children:Object(h.jsxs)(w.a,{variant:"contained",className:"c-btn",color:"primary",component:"span",children:[Object(h.jsx)(ft.a,{})," \xa0 Upload Image"]})}),Object(h.jsx)("input",{onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(e){N(e.target.result)}},name:"location",accept:"image/*",className:"d-none",id:"icon-button-file",type:"file"}),(y||n.image)&&Object(h.jsx)("img",{style:{width:"200px",marginLeft:"100px"},src:y||n.image})]}),Object(h.jsx)(w.a,{type:"submit",variant:"contained",size:"large",color:"primary",className:"c-btn mt-5",children:"POST"===b?"Create Product":"Update Product"})]})})})]})}var yt=Object(P.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(3),padding:"20px"},submit:{margin:e.spacing(3,0,2)}}}));function Nt(e){var t=Object(c.useState)({}),a=Object(d.a)(t,2),n=a[0],r=a[1],i=Object(c.useState)(null),s=Object(d.a)(i,2),o=s[0],l=s[1],j=Object(c.useState)("POST"),u=Object(d.a)(j,2),b=u[0],m=u[1],O=yt();Object(c.useEffect)((function(){e.match.params.id&&B.a.get("".concat("https://cashie-backend.herokuapp.com/api/","user/").concat(e.match.params.id)).then((function(e){"success"===e.data.status&&(r(e.data.data),m("PUT"))}))}),[]);var p={fullname:D.a.string().required().min(7).max(30),username:D.a.string().required().min(7).max(30),email:D.a.string().email().required().min(7).max(30),password:D.a.string().required().min(7).max(30),role:D.a.string().required()};return console.log(o),console.log(n),Object(h.jsxs)(T.a,{children:[Object(h.jsx)("h4",{children:"Update Account"}),Object(h.jsx)(E.a,{children:Object(h.jsx)("div",{className:O.paper,children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=D.a.validate(n,p,{abortEarly:!1});a.error?l(a.error.details):B()({method:b,url:"".concat("https://cashie-backend.herokuapp.com/api/").concat("PUT"===b?"user/"+e.match.params.id:"user"),data:n}).then((function(t){200===t.status?(l(null),R.a.fire("User ".concat("PUT"===b?"updated":"created"," successfully...")),e.history.goBack()):R.a.fire("Error","Somethings went wrong","error")})).catch((function(e){R.a.fire("Error","Somethings went wrong","error")}))},onChange:function(e){r(Object(S.a)(Object(S.a)({},n),{},Object(C.a)({},e.target.name,e.target.value)))},className:O.form,children:[Object(h.jsxs)(_.a,{container:!0,spacing:2,children:[Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{autoComplete:"fname",name:"fullname",variant:"outlined",fullWidth:!0,id:"firstName",placeholder:"Full Name",value:n&&n.fullname,autoFocus:!0}),o&&o.filter((function(e){return"fullname"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{variant:"outlined",fullWidth:!0,id:"lastName",placeholder:"User name",name:"username",autoComplete:"lname",value:n&&n.username}),o&&o.filter((function(e){return"username"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{autoComplete:"fname",name:"email",variant:"outlined",fullWidth:!0,id:"firstName",placeholder:"Email",autoFocus:!0,value:n&&n.email}),o&&o.filter((function(e){return"email"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]}),Object(h.jsxs)(_.a,{item:!0,xs:12,sm:6,children:[Object(h.jsx)(k.a,{autoComplete:"fname",name:"password",variant:"outlined",fullWidth:!0,id:"firstName",placeholder:"Password",type:"password",value:n&&n.password}),o&&o.filter((function(e){return"password"===e.context.key})).map((function(e){return Object(h.jsx)("p",{className:"form-errors",children:e.message})}))]})]}),Object(h.jsx)(w.a,{type:"submit",variant:"contained",size:"large",color:"primary",className:"c-btn mt-5",children:"POST"===b?"Update User":""})]})})})]})}var Ct=Object(P.a)({table:{},firstRow:{margin:"30px 0px"}});var St=function(e){var t=Ct(),a=Object(c.useState)({start:xe()().startOf("week").format("llll"),end:xe()().endOf("week").format("llll"),limit:20}),n=Object(d.a)(a,2),r=n[0],i=(n[1],Object(c.useState)(null)),s=Object(d.a)(i,2),j=(s[0],s[1]),u=Object(c.useState)(null),b=Object(d.a)(u,2),m=b[0],O=b[1],p=Object(c.useState)(new Date),x=Object(d.a)(p,2),f=(x[0],x[1],ne.a.stringify(r));return Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://cashie-backend.herokuapp.com/api/","transaction/?").concat(f));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,j(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B()("".concat("https://cashie-backend.herokuapp.com/api/","transaction/?").concat(f));case 2:t=e.sent,O(t.data.data.transactions);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(m),Object(h.jsx)("div",{children:Object(h.jsxs)(T.a,{children:[Object(h.jsx)("h2",{align:"left",children:"Report"}),Object(h.jsxs)(_.a,{container:!0,justifyContent:"flex-end",className:"my-3",children:[Object(h.jsx)("form",{className:t.container,noValidate:!0,children:Object(h.jsx)(k.a,{id:"date",label:"Start Date",type:"date",defaultValue:"2021-08-14",className:t.textField,InputLabelProps:{shrink:!0}})}),Object(h.jsx)("form",{className:t.container,noValidate:!0,children:Object(h.jsx)(k.a,{id:"date",label:"End Date",type:"date",defaultValue:"2021-08-14",className:t.textField,InputLabelProps:{shrink:!0}})}),Object(h.jsx)(re.a,{variant:"outlined",children:Object(h.jsxs)(le.a,{native:!0,placeholder:"Role",defaultValue:"Newest",inputProps:{name:"sort",id:"outlined-age-native-simple",shrink:!1},children:[Object(h.jsx)("option",{"aria-label":"None",value:""}),Object(h.jsx)("option",{value:"Newest",children:"Newest"}),Object(h.jsx)("option",{value:"Oldest",children:"Oldest"}),Object(h.jsx)("option",{value:"Name",children:"Name"}),Object(h.jsx)("option",{value:"Highest to Lowest",children:"Highest to Lowest"}),Object(h.jsx)("option",{value:"Lowest to Highest",children:"Lowest to Highest"})]})})]}),Object(h.jsx)(_.a,{container:!0,justifyContent:"flex-end",className:t.firstRow,children:Object(h.jsx)(_.a,{item:!0,lg:12,sm:12,children:Object(h.jsx)(E.a,{children:Object(h.jsxs)(ue.a,{className:t.table,"aria-label":"simple table",children:[Object(h.jsx)(me.a,{children:Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{children:"Id"}),Object(h.jsx)(be.a,{align:"right",children:"Date"}),Object(h.jsx)(be.a,{align:"right",children:"Quantity"}),Object(h.jsx)(be.a,{align:"right",children:"Total"})]})}),Object(h.jsx)(he.a,{children:m&&m.map((function(t){return Object(h.jsxs)(Oe.a,{children:[Object(h.jsx)(be.a,{component:"th",scope:"row",children:t._id}),Object(h.jsx)(be.a,{align:"right",children:xe()(t._createdAt).format("llll")}),Object(h.jsx)(be.a,{align:"right",children:t.items.length}),Object(h.jsx)(be.a,{align:"right",children:t.grandtotal}),Object(h.jsx)(be.a,{align:"right",children:Object(h.jsx)(L.b,{to:"".concat(e.match.path,"/new}"),children:Object(h.jsx)(G.a,{})})})]},t._id)}))})]})})})})]})})};var wt=function(){localStorage.clear(),window.location.href="/login"};var kt=function(e){return Object(h.jsx)(n.a.Fragment,{children:Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("div",{className:"sidebar-wrap",children:Object(h.jsx)(ae,{})}),Object(h.jsxs)("div",{className:"main-area",children:[Object(h.jsx)("div",{className:"first-row",children:Object(h.jsx)(K,{})}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/users/update/:id?"),component:pt}),Object(h.jsx)(u.b,{exact:!0,path:"".concat(e.match.path,"/users/new"),component:pt}),Object(h.jsx)(u.b,{exact:!0,path:"".concat(e.match.path,"/users"),component:mt}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/products/new"),component:vt}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/products/update/:id?"),component:vt}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/products"),component:we}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/transactions"),component:lt}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/categories/update/:id?"),component:De}),Object(h.jsx)(u.b,{exact:!0,path:"".concat(e.match.path,"/categories/new"),component:De}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/categories"),component:Pe}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/setting"),component:F}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/account"),component:Nt}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/report"),component:St}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/report/new"),component:nt}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/logout"),component:wt}),Object(h.jsx)(u.b,{path:"".concat(e.match.path,"/"),component:ht})]})]})]})})},_t=a(438),Pt=a(442),Tt=Object(P.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Et(e){var t=Tt(),a=Object(c.useState)({}),n=Object(d.a)(a,2),r=n[0],i=n[1],s=Object(c.useState)([]),j=Object(d.a)(s,2),u=j[0],b=j[1],m=Object(c.useState)(""),O=Object(d.a)(m,2),p=O[0],x=O[1],f={username:D.a.string().required().min(8).max(30),password:D.a.string().required().min(7).max(30)};return Object(h.jsxs)(_.a,{container:!0,component:"main",className:t.root,children:[Object(h.jsx)(_t.a,{}),Object(h.jsx)(_.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(h.jsx)(_.a,{item:!0,xs:12,sm:8,md:5,component:E.a,elevation:6,square:!0,children:Object(h.jsxs)("div",{className:t.paper,children:[Object(h.jsx)(Re.a,{component:"h1",variant:"h5",children:"Login"}),!0!==u.length&&u.map((function(e){return Object(h.jsx)(Pt.a,{severity:"error",children:e.message})})),p&&Object(h.jsx)(Pt.a,{severity:"success",children:p}),Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=D.a.validate(r,f);function c(){return(c=Object(l.a)(o.a.mark((function t(){var a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://cashie-backend.herokuapp.com/api/","auth/login"),{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json"}});case 2:return a=t.sent,t.next=5,a.json();case 5:"success"===(c=t.sent).status?(x("Login successfull..."),localStorage.setItem("token",c.token),e.history.push("/dashboard")):b([{message:"Authentication failed"}]);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}console.log(a),a.error?b(a.error.details):function(){c.apply(this,arguments)}()},onChange:function(e){i(Object(S.a)(Object(S.a)({},r),{},Object(C.a)({},e.target.name,e.target.value)))},className:t.form,noValidate:!0,children:[Object(h.jsx)(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Username",name:"username",autoComplete:"email",autoFocus:!0}),Object(h.jsx)(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(h.jsx)(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]})})]})}var At=n.a.createContext(),Dt=n.a.createContext();var It=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),i=Object(d.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(null),O=Object(d.a)(l,2),p=O[0],x=O[1];return Object(c.useEffect)((function(){Fe("product?limit=100000").then((function(e){return o(e.data.data.products)})),Fe("setting").then((function(e){return x(e.data.data)}))}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(At.Provider,{value:{cartItems:a,updateCartItems:function(e){var t=a.findIndex((function(t){return t._id===e}));if(-1===t){var c=s.find((function(t){return t._id===e}));c.qty=1,c.price=+c.price,n([].concat(Object(j.a)(a),[c]))}else{var r=Object(j.a)(a);r.splice(t,1),n(r)}},updateQuantity:function(e,t){var c=a.findIndex((function(t){return t._id===e})),r=Object(j.a)(a);if("increment"===t)return r[c].qty++,void n(r);if("decrement"===t){if(1===r[c].qty)return;r[c].qty--,n(r)}},deleteCartItem:function(e){var t=a.findIndex((function(t){return t._id===e})),c=Object(j.a)(a);c.splice(t,1),n(c)},deleteAllCartItems:function(e){n([])}},children:Object(h.jsx)(Dt.Provider,{value:p,children:Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{path:"/dashboard",component:kt}),Object(h.jsx)(u.b,{path:"/logout",component:Et}),Object(h.jsx)(u.b,{path:"/home",component:b}),Object(h.jsx)(u.b,{path:"/page-not-found",component:m}),Object(h.jsx)(u.a,{from:"/",to:"dashboard"})]})})})})},Rt=(a(369),a(370),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,454)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),r(e),i(e)}))});i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(L.a,{children:Object(h.jsx)(It,{})})}),document.getElementById("root")),Rt()}},[[371,1,2]]]);
//# sourceMappingURL=main.68eb66b3.chunk.js.map